# File Management API Requirements

## Core Data Structures

- REQ-FILEMGMT-005: FileEntry structure provides file metadata representation with CurrentSource, OriginalSource, and TransformPipeline for multi-stage transformation support [breaking change]. [api_file_mgmt_file_entry.md#11-fileentry-structure-definition](../tech_specs/api_file_mgmt_file_entry.md#11-fileentry-structure-definition)
- REQ-FILEMGMT-042: Core data structures define FileEntry, FileSource, TransformPipeline, TransformStage, and TransformType [type: architectural]. [api_file_mgmt_file_entry.md#1-fileentry-structure](../tech_specs/api_file_mgmt_file_entry.md#1-fileentry-structure)
- REQ-FILEMGMT-043: Generic tag types provide type-safe tag operations. [api_file_mgmt_file_entry.md#32-tag-type](../tech_specs/api_file_mgmt_file_entry.md#32-tag-type)
- REQ-FILEMGMT-044: Generic tag operations support type-safe tag manipulation. [api_file_mgmt_file_entry.md#33-tag-operations-usage](../tech_specs/api_file_mgmt_file_entry.md#33-tag-operations-usage)
- REQ-FILEMGMT-045: Data management methods handle file content loading, processing, and multi-stage transformation pipeline operations [breaking change: removed SetSourceFile/GetSourceFile/SetTempPath/GetTempPath, added SetCurrentSource/GetCurrentSource and pipeline methods]. [api_file_mgmt_file_entry.md#4-data-management](../tech_specs/api_file_mgmt_file_entry.md#4-data-management)
- REQ-FILEMGMT-427: LoadData method loads file content into memory. [api_file_mgmt_file_entry.md#101-fileentryloaddata-method](../tech_specs/api_file_mgmt_file_entry.md#101-fileentryloaddata-method)
- REQ-FILEMGMT-428: FileEntry ProcessData method processes the file data (compression, encryption, etc.). [api_file_mgmt_file_entry.md#102-fileentryprocessdata-method](../tech_specs/api_file_mgmt_file_entry.md#102-fileentryprocessdata-method)
- REQ-FILEMGMT-429: FileEntry data management purpose defines data loading and processing [type: architectural]. [api_file_mgmt_file_entry.md#103-fileentry-data-management-purpose](../tech_specs/api_file_mgmt_file_entry.md#103-fileentry-data-management-purpose)
- REQ-FILEMGMT-430: LoadData behavior defines file content loading process [type: architectural]. [api_file_mgmt_file_entry.md#104-loaddata-behavior](../tech_specs/api_file_mgmt_file_entry.md#104-loaddata-behavior)
- REQ-FILEMGMT-431: ProcessData behavior defines compression and encryption application [type: architectural]. [api_file_mgmt_file_entry.md#105-processdata-behavior](../tech_specs/api_file_mgmt_file_entry.md#105-processdata-behavior)
- REQ-FILEMGMT-432: FileEntry data management error conditions define data operation errors [type: architectural]. [api_file_mgmt_file_entry.md#106-fileentry-data-management-error-conditions](../tech_specs/api_file_mgmt_file_entry.md#106-fileentry-data-management-error-conditions)
- REQ-FILEMGMT-433: FileEntry data management usage notes document LoadData, UnloadData, and ProcessData usage [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_file_entry.md#107-fileentry-data-management-usage-notes](../tech_specs/api_file_mgmt_file_entry.md#107-fileentry-data-management-usage-notes)
- REQ-FILEMGMT-415: HashEntry type represents a hash with type and purpose [type: architectural]. [api_file_mgmt_file_entry.md#11-hashentry-struct](../tech_specs/api_file_mgmt_file_entry.md#11-hashentry-struct)
- REQ-FILEMGMT-416: HashType type represents hash algorithm types [type: architectural]. [api_file_mgmt_file_entry.md#12-hashtype-type](../tech_specs/api_file_mgmt_file_entry.md#12-hashtype-type)
- REQ-FILEMGMT-417: HashPurpose type represents hash purposes [type: architectural]. [api_file_mgmt_file_entry.md#13-hashpurpose-type](../tech_specs/api_file_mgmt_file_entry.md#13-hashpurpose-type)
- REQ-FILEMGMT-418: TagValueType type represents the type of a tag value [type: architectural]. [api_file_mgmt_file_entry.md#14-tagvaluetype-type](../tech_specs/api_file_mgmt_file_entry.md#14-tagvaluetype-type)
- REQ-FILEMGMT-419: ProcessingState type defines the current state of file data transformations [type: architectural]. [api_file_mgmt_file_entry.md#15-processingstate-type](../tech_specs/api_file_mgmt_file_entry.md#15-processingstate-type)
- REQ-FILEMGMT-420: OptionalData structure represents structured optional data for a file entry [type: architectural]. [api_file_mgmt_file_entry.md#17-optionaldata-structure](../tech_specs/api_file_mgmt_file_entry.md#17-optionaldata-structure)
- REQ-FILEMGMT-421: OptionalDataType type represents the type of optional data [type: architectural]. [api_file_mgmt_file_entry.md#18-optionaldatatype-type](../tech_specs/api_file_mgmt_file_entry.md#18-optionaldatatype-type)
- REQ-FILEMGMT-422: Tag generic type represents a type-safe tag with a specific value type [type: architectural]. [api_file_mgmt_file_entry.md#19-tag-generic-type](../tech_specs/api_file_mgmt_file_entry.md#19-tag-generic-type)
- REQ-FILEMGMT-423: Tag type definition defines generic Tag structure [type: architectural]. [api_file_mgmt_file_entry.md#191-tag-struct](../tech_specs/api_file_mgmt_file_entry.md#191-tag-struct)
- REQ-FILEMGMT-424: NewTag function creates a new type-safe tag. [api_file_mgmt_file_entry.md#192-newtag-function](../tech_specs/api_file_mgmt_file_entry.md#192-newtag-function)
- REQ-FILEMGMT-425: Tag GetValue method returns the tag value. [api_file_mgmt_file_entry.md#193-tagtgetvalue-method](../tech_specs/api_file_mgmt_file_entry.md#193-tagtgetvalue-method)
- REQ-FILEMGMT-426: Tag SetValue method sets the tag value. [api_file_mgmt_file_entry.md#194-tagtsetvalue-method](../tech_specs/api_file_mgmt_file_entry.md#194-tagtsetvalue-method)
- REQ-FILEMGMT-186: FileEntry includes runtime-only CurrentSource and OriginalSource for unified source tracking, and TransformPipeline for multi-stage operations [breaking change: replaces SourceFile/SourceOffset/SourceSize/TempFilePath/IsTempFile]. [api_file_mgmt_file_entry.md#13-runtime-only-fields](../tech_specs/api_file_mgmt_file_entry.md#13-runtime-only-fields)
- REQ-FILEMGMT-046: Path management methods support path operations and path metadata associations. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-301: All stored paths MUST have leading slash for full path references [type: constraint]. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-302: Path normalization adds leading slash to paths without one [type: constraint]. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-303: ListFiles and display methods MUST strip leading slash from returned paths [type: constraint]. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-304: Error messages showing paths to users MUST strip leading slash [type: constraint]. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-047: Serialization supports parsing FileEntry from binary data. [api_file_mgmt_file_entry.md#6-marshaling](../tech_specs/api_file_mgmt_file_entry.md#6-marshaling)
- REQ-FILEMGMT-048: FileEntry path metadata association methods manage path relationships. [api_file_mgmt_file_entry.md#5-path-management](../tech_specs/api_file_mgmt_file_entry.md#5-path-management)
- REQ-FILEMGMT-312: FileEntry creation provides constructor and initialization methods for file entries [type: architectural]. [api_file_mgmt_file_entry.md#2-fileentry-creation](../tech_specs/api_file_mgmt_file_entry.md#2-fileentry-creation)
- REQ-FILEMGMT-338: FileSource structure defines unified source location tracking for file data (original, intermediate, or final stage). [api_file_mgmt_file_entry.md#16-filesource-structure](../tech_specs/api_file_mgmt_file_entry.md#16-filesource-structure)
- REQ-FILEMGMT-339: TransformPipeline structure tracks multi-stage transformation pipelines with ordered stages, current stage index, and completion status. [api_file_mgmt_transform_pipelines.md#22-transformpipeline-structure](../tech_specs/api_file_mgmt_transform_pipelines.md#22-transformpipeline-structure)
- REQ-FILEMGMT-340: TransformStage structure represents individual transformation stages with type, input/output sources, completion status, and error tracking. [api_file_mgmt_transform_pipelines.md#23-transformstage-structure](../tech_specs/api_file_mgmt_transform_pipelines.md#23-transformstage-structure)
- REQ-FILEMGMT-341: TransformType enumeration identifies transformation types (compress, decompress, encrypt, decrypt, verify, custom). [api_file_mgmt_transform_pipelines.md#24-transformtype-type](../tech_specs/api_file_mgmt_transform_pipelines.md#24-transformtype-type)
- REQ-FILEMGMT-342: Multi-stage transformation pipelines enable memory-efficient processing of large files through sequential transformation stages with intermediate temporary files. [api_file_mgmt_transform_pipelines.md#1-multi-stage-transformation-pipelines](../tech_specs/api_file_mgmt_transform_pipelines.md#1-multi-stage-transformation-pipelines)
- REQ-FILEMGMT-343: System performs disk space pre-flight checks before starting multi-stage transformations and returns ErrTypeIO if insufficient space. [api_file_mgmt_transform_pipelines.md#14-disk-space-management](../tech_specs/api_file_mgmt_transform_pipelines.md#14-disk-space-management)
- REQ-FILEMGMT-344: Parallel stage execution is supported where safe (e.g., checksum verification alongside decompression) but sequential by default for correctness. [api_file_mgmt_transform_pipelines.md#15-parallel-stage-execution](../tech_specs/api_file_mgmt_transform_pipelines.md#15-parallel-stage-execution)
- REQ-FILEMGMT-345: All intermediate temporary files in transformation pipeline are tracked and cleaned up automatically on success, failure, or manual cleanup. [api_file_mgmt_transform_pipelines.md#16-intermediate-stage-cleanup](../tech_specs/api_file_mgmt_transform_pipelines.md#16-intermediate-stage-cleanup)
- REQ-FILEMGMT-346: Temporary files for encrypted content use context-aware security (encrypted on disk when possible, with exception for decrypt operations where user intends to decrypt). [api_file_mgmt_transform_pipelines.md#17-temporary-file-security](../tech_specs/api_file_mgmt_transform_pipelines.md#17-temporary-file-security)
- REQ-FILEMGMT-347: MaxTransformStages configuration option limits pipeline depth (default: 10) to prevent resource exhaustion. [api_file_mgmt_transform_pipelines.md#19-configuration-options](../tech_specs/api_file_mgmt_transform_pipelines.md#19-configuration-options)
- REQ-FILEMGMT-348: ValidateProcessingState configuration option enables ProcessingState validation (default: false) for debugging and strict validation scenarios. [api_file_mgmt_transform_pipelines.md#19-configuration-options](../tech_specs/api_file_mgmt_transform_pipelines.md#19-configuration-options)
- REQ-FILEMGMT-349: Helper methods (SetCurrentSource, GetCurrentSource, CreateFileSourceFromPath, CreateFileSourceFromPackage, etc.) provide ergonomic FileSource management. [api_file_mgmt_file_entry.md#44-source-tracking-currentsourceoriginalsource](../tech_specs/api_file_mgmt_file_entry.md#44-source-tracking-currentsourceoriginalsource)
- REQ-FILEMGMT-350: All methods return structured PackageError with ErrTypeValidation when CurrentSource is unexpectedly nil (nil safety with clear context). [api_file_mgmt_file_entry.md#44-source-tracking-currentsourceoriginalsource](../tech_specs/api_file_mgmt_file_entry.md#44-source-tracking-currentsourceoriginalsource)
- REQ-FILEMGMT-351: Pipeline resume capability allows resuming from last completed stage after interruption with ResumeTransformation method. [api_file_mgmt_transform_pipelines.md#18-error-recovery-and-resume](../tech_specs/api_file_mgmt_transform_pipelines.md#18-error-recovery-and-resume)

## File Addition Operations

- REQ-FILEMGMT-001: Adding a file updates index and metadata. [api_file_mgmt_addition.md#21-packageaddfile-method](../tech_specs/api_file_mgmt_addition.md#21-packageaddfile-method)
- REQ-FILEMGMT-007: AddFileOptions provides unified configuration for file addition. [api_file_mgmt_addition.md#28-addfileoptions-struct](../tech_specs/api_file_mgmt_addition.md#28-addfileoptions-struct)
- REQ-FILEMGMT-008: AddFilePattern adds files matching patterns with configurable options. [api_file_mgmt_addition.md#24-packageaddfilepattern-method](../tech_specs/api_file_mgmt_addition.md#24-packageaddfilepattern-method)
- REQ-FILEMGMT-009: AddFile derives the file data source from the filesystem input path (no FileSource parameter) [type: architectural]. [api_file_mgmt_addition.md#21-packageaddfile-method](../tech_specs/api_file_mgmt_addition.md#21-packageaddfile-method)
- REQ-FILEMGMT-010: File addition flow follows processing order requirements [type: constraint]. [api_file_mgmt_addition.md#31-processing-order-requirements](../tech_specs/api_file_mgmt_addition.md#31-processing-order-requirements)
- REQ-FILEMGMT-023: AddFileWithEncryption adds a file with encryption enabled (convenience wrapper). [api_file_mgmt_addition.md#23-packageaddfilewithencryption-method](../tech_specs/api_file_mgmt_addition.md#23-packageaddfilewithencryption-method) (Exception: also [api_file_mgmt_addition.md#236-addfilewithencryption-usage-notes](../tech_specs/api_file_mgmt_addition.md#236-addfilewithencryption-usage-notes) for coverage [documentation-only].)
- REQ-FILEMGMT-438: AddFileWithEncryption implementation merges options with provided key then calls AddFile; key parameter takes precedence over options.EncryptionKey. [api_file_mgmt_addition.md#232-addfilewithencryption-implementation](../tech_specs/api_file_mgmt_addition.md#232-addfilewithencryption-implementation)
- REQ-FILEMGMT-439: AddFileWithEncryption parameters are context, path, key, and optional options. [api_file_mgmt_addition.md#233-addfilewithencryption-parameters](../tech_specs/api_file_mgmt_addition.md#233-addfilewithencryption-parameters)
- REQ-FILEMGMT-440: AddFileWithEncryption returns created FileEntry with encryption enabled or error. [api_file_mgmt_addition.md#234-addfilewithencryption-returns](../tech_specs/api_file_mgmt_addition.md#234-addfilewithencryption-returns)
- REQ-FILEMGMT-026: AddFile reads file bytes from the filesystem path and supports streaming for large files with multi-stage transformation pipelines for compression+encryption [type: architectural]. [api_file_mgmt_addition.md#215-addfile-behavior](../tech_specs/api_file_mgmt_addition.md#215-addfile-behavior)
- REQ-FILEMGMT-027: GetPatterns gets files matching patterns from package. [api_file_mgmt_addition.md#24-packageaddfilepattern-method](../tech_specs/api_file_mgmt_addition.md#24-packageaddfilepattern-method)
- REQ-FILEMGMT-049: AddFile operations support unified file addition interface. [api_file_mgmt_addition.md#2-addfile-operations](../tech_specs/api_file_mgmt_addition.md#2-addfile-operations) (Exception: also [api_file_mgmt_addition.md#1-general-notes](../tech_specs/api_file_mgmt_addition.md#1-general-notes) for coverage.)
- REQ-FILEMGMT-050: AddFile purpose is to add a file by reading from a filesystem path. [api_file_mgmt_addition.md#211-addfile-purpose](../tech_specs/api_file_mgmt_addition.md#211-addfile-purpose)
- REQ-FILEMGMT-051: AddFile parameters include context, path, and options. [api_file_mgmt_addition.md#212-addfile-parameters](../tech_specs/api_file_mgmt_addition.md#212-addfile-parameters)
- REQ-FILEMGMT-305: AddFile path input is a filesystem-style input path used to derive the stored package path [type: constraint]. [api_file_mgmt_addition.md#213-filesystem-input-path-and-stored-path-derivation](../tech_specs/api_file_mgmt_addition.md#213-filesystem-input-path-and-stored-path-derivation) (Exception: also [api_file_mgmt_addition.md#210-path-normalization-and-validation](../tech_specs/api_file_mgmt_addition.md#210-path-normalization-and-validation) for coverage.)
- REQ-FILEMGMT-306: AddFile MUST reject filesystem directory inputs and require directory recursion APIs [type: constraint]. [api_file_mgmt_addition.md#213-filesystem-input-path-and-stored-path-derivation](../tech_specs/api_file_mgmt_addition.md#213-filesystem-input-path-and-stored-path-derivation)
- REQ-FILEMGMT-052: AddFile returns created FileEntry with metadata. [api_file_mgmt_addition.md#214-addfile-returns](../tech_specs/api_file_mgmt_addition.md#214-addfile-returns)
- REQ-FILEMGMT-053: AddFile behavior includes reading, streaming, metadata creation, and multi-stage transformation pipeline usage for large files with compression+encryption. [api_file_mgmt_addition.md#215-addfile-behavior](../tech_specs/api_file_mgmt_addition.md#215-addfile-behavior)
- REQ-FILEMGMT-434: AddFile FileEntry field effects create or update FileEntry in in-memory package state per specified sequence (validation, deduplication, encryption processing, allocation, runtime finalization). [api_file_mgmt_addition.md#216-fileentry-field-effects](../tech_specs/api_file_mgmt_addition.md#216-fileentry-field-effects)
- REQ-FILEMGMT-435: AddFile file data processing model applies encryption-only, compression-only, both, or neither per spec; encryption applied early, compression deferred to Write when no encryption. [api_file_mgmt_addition.md#217-file-data-processing-model](../tech_specs/api_file_mgmt_addition.md#217-file-data-processing-model)
- REQ-FILEMGMT-436: AddFile in-memory package state effects update package list and PackageInfo; created or updated FileEntry visible to subsequent operations without disk write. [api_file_mgmt_addition.md#218-in-memory-package-state-effects](../tech_specs/api_file_mgmt_addition.md#218-in-memory-package-state-effects)
- REQ-FILEMGMT-437: AddFile temporary file management keeps temp files open until Write completes; AddFile cleans up temp file on failure; Package close cleans up tracked temp files. [api_file_mgmt_addition.md#219-temporary-file-management](../tech_specs/api_file_mgmt_addition.md#219-temporary-file-management)
- REQ-FILEMGMT-054: AddFile error conditions cover package state and I/O errors. [api_file_mgmt_addition.md#2110-addfile-error-conditions](../tech_specs/api_file_mgmt_addition.md#2110-addfile-error-conditions)
- REQ-FILEMGMT-055: AddFilePattern purpose is to add multiple files via pattern matching. [api_file_mgmt_addition.md#241-addfilepattern-purpose](../tech_specs/api_file_mgmt_addition.md#241-addfilepattern-purpose)
- REQ-FILEMGMT-056: AddFilePattern parameters include context, pattern, and options. [api_file_mgmt_addition.md#242-addfilepattern-parameters](../tech_specs/api_file_mgmt_addition.md#242-addfilepattern-parameters)
- REQ-FILEMGMT-307: AddFilePattern MUST derive stored paths using the pattern base rules [type: constraint]. [api_file_mgmt_addition.md#243-pattern-base-determination](../tech_specs/api_file_mgmt_addition.md#243-pattern-base-determination)
- REQ-FILEMGMT-057: AddFilePattern returns slice of created FileEntry objects. [api_file_mgmt_addition.md#244-addfilepattern-returns](../tech_specs/api_file_mgmt_addition.md#244-addfilepattern-returns)
- REQ-FILEMGMT-058: AddFilePattern behavior includes pattern scanning and bulk file addition. [api_file_mgmt_addition.md#245-addfilepattern-behavior](../tech_specs/api_file_mgmt_addition.md#245-addfilepattern-behavior) (Exception: also [api_file_mgmt_addition.md#248-in-memory-package-state-effects-addfilepattern](../tech_specs/api_file_mgmt_addition.md#248-in-memory-package-state-effects-addfilepattern) for coverage.)
- REQ-FILEMGMT-059: AddFilePattern error conditions handle invalid patterns and I/O errors. [api_file_mgmt_addition.md#249-addfilepattern-error-conditions](../tech_specs/api_file_mgmt_addition.md#249-addfilepattern-error-conditions)
- REQ-FILEMGMT-060: AddFilePattern usage notes document pattern-specific configuration [type: documentation-only]. [api_file_mgmt_addition.md#2410-addfilepattern-usage-notes](../tech_specs/api_file_mgmt_addition.md#2410-addfilepattern-usage-notes)
- REQ-FILEMGMT-313: AddDirectory recursively adds files from a filesystem directory into the package [type: constraint]. [api_file_mgmt_addition.md#25-packageadddirectory-method](../tech_specs/api_file_mgmt_addition.md#25-packageadddirectory-method)
  (Exception: also [api_file_mgmt_addition.md#251-adddirectory-purpose](../tech_specs/api_file_mgmt_addition.md#251-adddirectory-purpose) for coverage; [api_file_mgmt_addition.md#2510-adddirectory-usage-notes](../tech_specs/api_file_mgmt_addition.md#2510-adddirectory-usage-notes) [documentation-only].)
- REQ-FILEMGMT-444: AddDirectory returns slice of created FileEntry objects and error; partial success possible. [api_file_mgmt_addition.md#254-adddirectory-returns](../tech_specs/api_file_mgmt_addition.md#254-adddirectory-returns)
- REQ-FILEMGMT-445: AddDirectory in-memory state effects update package list and PackageInfo per file; each added FileEntry visible without disk write; PackageDataVersion incremented per file. [api_file_mgmt_addition.md#258-in-memory-package-state-effects-adddirectory](../tech_specs/api_file_mgmt_addition.md#258-in-memory-package-state-effects-adddirectory)
- REQ-FILEMGMT-446: AddDirectory error conditions cover package not open, dirPath invalid, I/O, encryption, and context errors. [api_file_mgmt_addition.md#259-adddirectory-error-conditions](../tech_specs/api_file_mgmt_addition.md#259-adddirectory-error-conditions)
- REQ-FILEMGMT-314: AddDirectory internally calls AddFile for each discovered file [type: architectural]. [api_file_mgmt_addition.md#255-adddirectory-behavior](../tech_specs/api_file_mgmt_addition.md#255-adddirectory-behavior)
- REQ-FILEMGMT-315: AddDirectory stored path derivation follows directory base and StoredPath option rules [type: constraint]. [api_file_mgmt_addition.md#252-adddirectory-parameters](../tech_specs/api_file_mgmt_addition.md#252-adddirectory-parameters)
- REQ-FILEMGMT-066: AddFileOptions purpose configures file processing behavior. [api_file_mgmt_addition.md#281-addfileoptions-purpose](../tech_specs/api_file_mgmt_addition.md#281-addfileoptions-purpose) (Exception: also [api_file_mgmt_addition.md#287-multi-stage-transformation-pipeline-options](../tech_specs/api_file_mgmt_addition.md#287-multi-stage-transformation-pipeline-options) for coverage.)
- REQ-FILEMGMT-067: AddFileOptions fields define processing, encryption, and pattern options. [api_file_mgmt_addition.md#28-addfileoptions-struct](../tech_specs/api_file_mgmt_addition.md#28-addfileoptions-struct)
- REQ-FILEMGMT-308: AddFileOptions path determination options define filesystem input mapping rules [type: constraint]. [api_file_mgmt_addition.md#26-addfileoptions-path-determination](../tech_specs/api_file_mgmt_addition.md#26-addfileoptions-path-determination) (Exception: also [api_file_mgmt_addition.md#261-path-determination-priority-order](../tech_specs/api_file_mgmt_addition.md#261-path-determination-priority-order) for coverage.)
- REQ-FILEMGMT-309: AddFileOptions conflict handling defines overwrite behavior [type: constraint]. [api_file_mgmt_addition.md#283-conflict-handling-options](../tech_specs/api_file_mgmt_addition.md#283-conflict-handling-options)
- REQ-FILEMGMT-068: AddFileOptions file processing options control compression and deduplication. [api_file_mgmt_addition.md#285-file-processing-options](../tech_specs/api_file_mgmt_addition.md#285-file-processing-options)
- REQ-FILEMGMT-069: AddFileOptions encryption options configure encryption behavior. [api_file_mgmt_addition.md#286-encryption-options](../tech_specs/api_file_mgmt_addition.md#286-encryption-options)
- REQ-FILEMGMT-070: AddFileOptions pattern-specific options control pattern matching behavior. [api_file_mgmt_addition.md#288-pattern-specific-options](../tech_specs/api_file_mgmt_addition.md#288-pattern-specific-options)
- REQ-FILEMGMT-310: AddFileOptions symlink handling defines default follow behavior [type: constraint]. [api_file_mgmt_addition.md#289-symlink-options](../tech_specs/api_file_mgmt_addition.md#289-symlink-options)
- REQ-FILEMGMT-311: AddFileOptions filesystem metadata capture options define opt-in capture behavior [type: constraint]. [api_file_mgmt_addition.md#2811-filesystem-metadata-capture-options](../tech_specs/api_file_mgmt_addition.md#2811-filesystem-metadata-capture-options)
- REQ-FILEMGMT-412: AddFileOptions.PathMetadataPatch allows setting PathMetadataEntry fields at file addition time. [api_file_mgmt_addition.md#282-pathmetadatapatch-struct](../tech_specs/api_file_mgmt_addition.md#282-pathmetadatapatch-struct)
- REQ-FILEMGMT-413: PathMetadataPatch fields override captured filesystem metadata when both are present. [api_file_mgmt_addition.md#282-pathmetadatapatch-struct](../tech_specs/api_file_mgmt_addition.md#282-pathmetadatapatch-struct)
- REQ-FILEMGMT-414: PathMetadataPatch creates PathMetadataEntry if missing, or updates existing entry when adding files. [api_file_mgmt_addition.md#215-addfile-behavior](../tech_specs/api_file_mgmt_addition.md#215-addfile-behavior)
- REQ-FILEMGMT-316: Session Base provides package-level automatic BasePath for absolute filesystem paths [type: architectural]. [api_file_mgmt_addition.md#264-session-base---package-level-automatic-basepath](../tech_specs/api_file_mgmt_addition.md#264-session-base---package-level-automatic-basepath)
- REQ-FILEMGMT-317: Session Base is established automatically on first absolute path and persists for the package construction session [type: constraint]. [api_file_mgmt_addition.md#264-session-base---package-level-automatic-basepath](../tech_specs/api_file_mgmt_addition.md#264-session-base---package-level-automatic-basepath) (Exception: also [api_file_mgmt_addition.md#266-session-base-persistence](../tech_specs/api_file_mgmt_addition.md#266-session-base-persistence) for coverage.)
- REQ-FILEMGMT-318: Session Base can be explicitly set, cleared, and queried via Package methods [type: architectural]. [api_basic_operations.md#19-package-session-base-management](../tech_specs/api_basic_operations.md#19-package-session-base-management) (Exception: also [api_file_mgmt_addition.md#268-overriding-session-base](../tech_specs/api_file_mgmt_addition.md#268-overriding-session-base) for coverage.)
- REQ-FILEMGMT-319: Path length validation enforces 65,535 byte maximum from PathEntry.PathLength uint16 [type: constraint]. [api_file_mgmt_addition.md#2612-on-disk-format-limit](../tech_specs/api_file_mgmt_addition.md#2612-on-disk-format-limit)
- REQ-FILEMGMT-320: Path length validation emits warnings for paths over 4,096 bytes due to platform extraction limits [type: constraint]. [api_file_mgmt_addition.md#2613-platform-extraction-limits](../tech_specs/api_file_mgmt_addition.md#2613-platform-extraction-limits)
- REQ-FILEMGMT-321: Windows extraction automatically uses extended-length path syntax for paths exceeding MAX_PATH [type: non-functional]. [api_file_mgmt_addition.md#2614-windows-extended-length-pathhandling](../tech_specs/api_file_mgmt_addition.md#2614-windows-extended-length-pathhandling)
- REQ-FILEMGMT-071: AddFile usage notes document best practices and configuration [type: documentation-only]. [api_file_mgmt_addition.md#29-usage-notes](../tech_specs/api_file_mgmt_addition.md#29-usage-notes)
- REQ-FILEMGMT-072: File addition implementation flow defines processing sequence [type: architectural]. [api_file_mgmt_addition.md#3-file-addition-implementation-flow](../tech_specs/api_file_mgmt_addition.md#3-file-addition-implementation-flow) (Exception: also [api_file_mgmt_addition.md#311-high-level-processing-steps](../tech_specs/api_file_mgmt_addition.md#311-high-level-processing-steps) for coverage.)
- REQ-FILEMGMT-073: Processing order requirements define required sequence [type: constraint]. [api_file_mgmt_addition.md#31-processing-order-requirements](../tech_specs/api_file_mgmt_addition.md#31-processing-order-requirements)
- REQ-FILEMGMT-074: Processing error handling requirements define error handling behavior. [api_file_mgmt_addition.md#312-error-handling-requirements](../tech_specs/api_file_mgmt_addition.md#312-error-handling-requirements)
- REQ-FILEMGMT-075: Processing performance requirements define performance characteristics [type: non-functional]. [api_file_mgmt_addition.md#31-processing-order-requirements](../tech_specs/api_file_mgmt_addition.md#31-processing-order-requirements)
- REQ-FILEMGMT-185: Processing order purpose defines file addition sequence. [api_file_mgmt_addition.md#31-processing-order-requirements](../tech_specs/api_file_mgmt_addition.md#31-processing-order-requirements)
- REQ-FILEMGMT-200: AddFileFromMemory adds files from in-memory byte data. [api_file_mgmt_addition.md#22-packageaddfilefrommemory-method](../tech_specs/api_file_mgmt_addition.md#22-packageaddfilefrommemory-method) (Exception: also [api_file_mgmt_addition.md#221-addfilefrommemory-purpose](../tech_specs/api_file_mgmt_addition.md#221-addfilefrommemory-purpose) for coverage.)
- REQ-FILEMGMT-201: AddFileFromMemory parameters include context, path, data, and options. [api_file_mgmt_addition.md#222-addfilefrommemory-parameters](../tech_specs/api_file_mgmt_addition.md#222-addfilefrommemory-parameters)
- REQ-FILEMGMT-202: AddFileFromMemory treats path as package-relative path. [api_file_mgmt_addition.md#223-addfilefrommemory-pathhandling](../tech_specs/api_file_mgmt_addition.md#223-addfilefrommemory-pathhandling)
- REQ-FILEMGMT-203: AddFileFromMemory returns FileEntry with metadata and checksums. [api_file_mgmt_addition.md#224-addfilefrommemory-returns](../tech_specs/api_file_mgmt_addition.md#224-addfilefrommemory-returns)
- REQ-FILEMGMT-204: AddFileFromMemory validates path, uses provided byte data, and supports multi-stage transformation pipeline for large data with compression+encryption. [api_file_mgmt_addition.md#225-addfilefrommemory-behavior](../tech_specs/api_file_mgmt_addition.md#225-addfilefrommemory-behavior)
- REQ-FILEMGMT-441: AddFileFromMemory FileEntry field effects follow same sequence as AddFile with data-source differences: validate path, write raw data to temp file, set CurrentSource, then deduplication, encryption processing, allocation, runtime finalization. [api_file_mgmt_addition.md#226-addfilefrommemory-fileentry-field-effects](../tech_specs/api_file_mgmt_addition.md#226-addfilefrommemory-fileentry-field-effects)
- REQ-FILEMGMT-442: AddFileFromMemory data management treats data as raw content; calculates RawChecksum and OriginalSize; writes to temp file for pipeline; caller retains data ownership until Write completes. [api_file_mgmt_addition.md#227-addfilefrommemory-data-management](../tech_specs/api_file_mgmt_addition.md#227-addfilefrommemory-data-management)
- REQ-FILEMGMT-443: AddFileFromMemory memory management: data slice is reference type; caller must ensure data remains valid until Write completes or data is processed. [api_file_mgmt_addition.md#2211-addfilefrommemory-memory-management](../tech_specs/api_file_mgmt_addition.md#2211-addfilefrommemory-memory-management)
- REQ-FILEMGMT-205: AddFileFromMemory performs deduplication same as AddFile. [api_file_mgmt_addition.md#2212-addfilefrommemory-deduplication](../tech_specs/api_file_mgmt_addition.md#2212-addfilefrommemory-deduplication)
- REQ-FILEMGMT-206: AddFileFromMemory error conditions handle invalid paths and nil data. [api_file_mgmt_addition.md#228-addfilefrommemory-error-conditions](../tech_specs/api_file_mgmt_addition.md#228-addfilefrommemory-error-conditions)
- REQ-FILEMGMT-207: AddFileFromMemory usage notes document use cases [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_addition.md#229-addfilefrommemory-usage-notes](../tech_specs/api_file_mgmt_addition.md#229-addfilefrommemory-usage-notes)
- REQ-FILEMGMT-208: AddFileFromMemory data requirements specify raw content format [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_addition.md#2210-addfilefrommemory-data-requirements](../tech_specs/api_file_mgmt_addition.md#2210-addfilefrommemory-data-requirements)

## ~~File Unstage Operations~~ (Obsolete - Use File Removal Operations)

- ~~REQ-FILEMGMT-002: Unstaging a file updates path metadata state or tombstones~~ [type: obsolete] (obsolete: replaced by RemoveFile operations - see REQ-FILEMGMT-136 through REQ-FILEMGMT-141).
- ~~REQ-FILEMGMT-011: UnstageFilePattern unstages files matching patterns~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern operations - see REQ-FILEMGMT-325 through REQ-FILEMGMT-330).
- ~~REQ-FILEMGMT-076: Unstage file operations support removing file paths from packages~~ [type: obsolete] (obsolete: replaced by RemoveFile/RemoveFilePattern/RemoveDirectory operations - see REQ-FILEMGMT-136-141, REQ-FILEMGMT-325-337).
- ~~REQ-FILEMGMT-077: UnstageFile purpose is to unstage a file by path~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-136).
- ~~REQ-FILEMGMT-078: UnstageFile parameters include context and path~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-137).
- ~~REQ-FILEMGMT-080: UnstageFile behavior updates index and path metadata state~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-139).
- ~~REQ-FILEMGMT-081: UnstageFile error conditions handle missing files and package state~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-140).
- ~~REQ-FILEMGMT-083: UnstageFile usage notes document unstage behavior~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-141).
- ~~REQ-FILEMGMT-084: UnstageFilePattern purpose is to unstage multiple files via pattern~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-325).
- ~~REQ-FILEMGMT-085: UnstageFilePattern parameters include context and pattern~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-326).
- ~~REQ-FILEMGMT-086: UnstageFilePattern returns removed entries~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-327).
- ~~REQ-FILEMGMT-087: UnstageFilePattern behavior matches and unstages files~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-328).
- ~~REQ-FILEMGMT-088: UnstageFilePattern error conditions handle invalid patterns~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-329).
- ~~REQ-FILEMGMT-089: UnstageFilePattern usage notes document pattern matching~~ [type: obsolete] (obsolete: replaced by RemoveFilePattern - see REQ-FILEMGMT-330).
- ~~REQ-FILEMGMT-181: UnstageFile error conditions return structured error status~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-140).
- ~~REQ-FILEMGMT-182: UnstageFile behavior updates package state~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-139).
- ~~REQ-FILEMGMT-183: UnstageFile error conditions handle package state errors~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-140).
- ~~REQ-FILEMGMT-184: UnstageFile usage notes document unstage behavior~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-141).
- ~~REQ-FILEMGMT-187: UnstageFile parameters define unstage interface~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-137).
- ~~REQ-FILEMGMT-188: UnstageFile method unstages files from package~~ [type: obsolete] (obsolete: replaced by RemoveFile - see REQ-FILEMGMT-136 through REQ-FILEMGMT-141).

## File Removal Operations

- REQ-FILEMGMT-136: RemoveFile purpose is to remove file from package. [api_file_mgmt_removal.md#21-removefile-purpose](../tech_specs/api_file_mgmt_removal.md#21-removefile-purpose) (Exception: also [api_file_mgmt_removal.md#1-file-removal-semantics-and-multi-path-files](../tech_specs/api_file_mgmt_removal.md#1-file-removal-semantics-and-multi-path-files) for coverage.)
- REQ-FILEMGMT-137: RemoveFile parameters include context and path. [api_file_mgmt_removal.md#23-removefile-parameters](../tech_specs/api_file_mgmt_removal.md#23-removefile-parameters)
- REQ-FILEMGMT-138: RemoveFile returns error on failure. [api_file_mgmt_removal.md#24-removefile-returns](../tech_specs/api_file_mgmt_removal.md#24-removefile-returns)
- REQ-FILEMGMT-139: RemoveFile behavior removes file from in-memory package state. [api_file_mgmt_removal.md#25-removefile-behavior](../tech_specs/api_file_mgmt_removal.md#25-removefile-behavior)
- REQ-FILEMGMT-140: RemoveFile error conditions handle validation and state errors. [api_file_mgmt_removal.md#26-removefile-error-conditions](../tech_specs/api_file_mgmt_removal.md#26-removefile-error-conditions)
- REQ-FILEMGMT-141: RemoveFile usage notes document removal behavior [type: documentation-only]. [api_file_mgmt_removal.md#27-removefile-usage-notes](../tech_specs/api_file_mgmt_removal.md#27-removefile-usage-notes)
- REQ-FILEMGMT-325: RemoveFilePattern purpose is to remove files matching a pattern from package. [api_file_mgmt_removal.md#31-removefilepattern-purpose](../tech_specs/api_file_mgmt_removal.md#31-removefilepattern-purpose)
- REQ-FILEMGMT-326: RemoveFilePattern parameters include context and pattern. [api_file_mgmt_removal.md#33-removefilepattern-parameters](../tech_specs/api_file_mgmt_removal.md#33-removefilepattern-parameters)
- REQ-FILEMGMT-327: RemoveFilePattern returns slice of removed file paths and error. [api_file_mgmt_removal.md#34-removefilepattern-returns](../tech_specs/api_file_mgmt_removal.md#34-removefilepattern-returns) (Exception: also [api_file_mgmt_removal.md#361-partial-failure-handling](../tech_specs/api_file_mgmt_removal.md#361-partial-failure-handling) for coverage.)
- REQ-FILEMGMT-328: RemoveFilePattern behavior includes pattern matching, file removal, and directory metadata cleanup. [api_file_mgmt_removal.md#35-removefilepattern-behavior](../tech_specs/api_file_mgmt_removal.md#35-removefilepattern-behavior) (Exception: also [api_file_mgmt_removal.md#351-pattern-matching](../tech_specs/api_file_mgmt_removal.md#351-pattern-matching) for coverageâ€”same topic: pattern behavior.)
- REQ-FILEMGMT-329: RemoveFilePattern error conditions handle invalid patterns and package state errors. [api_file_mgmt_removal.md#36-removefilepattern-error-conditions](../tech_specs/api_file_mgmt_removal.md#36-removefilepattern-error-conditions)
- REQ-FILEMGMT-330: RemoveFilePattern usage notes document batch removal behavior [type: documentation-only]. [api_file_mgmt_removal.md#37-removefilepattern-usage-notes](../tech_specs/api_file_mgmt_removal.md#37-removefilepattern-usage-notes)
- REQ-FILEMGMT-331: RemoveDirectory purpose is to remove all files within a directory path from package. [api_file_mgmt_removal.md#41-removedirectory-purpose](../tech_specs/api_file_mgmt_removal.md#41-removedirectory-purpose)
- REQ-FILEMGMT-332: RemoveDirectory parameters include context, directory path, and options. [api_file_mgmt_removal.md#43-removedirectory-parameters](../tech_specs/api_file_mgmt_removal.md#43-removedirectory-parameters)
- REQ-FILEMGMT-333: RemoveDirectoryOptions structure configures directory removal behavior. [api_file_mgmt_removal.md#44-removedirectoryoptions-struct](../tech_specs/api_file_mgmt_removal.md#44-removedirectoryoptions-struct)
- REQ-FILEMGMT-334: RemoveDirectory returns slice of removed file paths and error. [api_file_mgmt_removal.md#45-removedirectory-returns](../tech_specs/api_file_mgmt_removal.md#45-removedirectory-returns)
- REQ-FILEMGMT-335: RemoveDirectory behavior includes directory validation, file discovery, removal, and metadata cleanup. [api_file_mgmt_removal.md#46-removedirectory-behavior](../tech_specs/api_file_mgmt_removal.md#46-removedirectory-behavior) (Exception: also [api_file_mgmt_removal.md#463-removedirectory-file-removal](../tech_specs/api_file_mgmt_removal.md#463-removedirectory-file-removal) for coverage.)
- REQ-FILEMGMT-336: RemoveDirectory error conditions handle invalid directory paths and package state errors. [api_file_mgmt_removal.md#47-removedirectory-error-conditions](../tech_specs/api_file_mgmt_removal.md#47-removedirectory-error-conditions)
- REQ-FILEMGMT-337: RemoveDirectory usage notes document directory removal behavior [type: documentation-only]. [api_file_mgmt_removal.md#48-removedirectory-usage-notes](../tech_specs/api_file_mgmt_removal.md#48-removedirectory-usage-notes)

## File Update Operations

- REQ-FILEMGMT-012: UpdateFile updates existing file content and metadata. [api_file_mgmt_updates.md#11-packageupdatefile-method](../tech_specs/api_file_mgmt_updates.md#11-packageupdatefile-method)
- REQ-FILEMGMT-447: UpdateFile parameters include context, storedPath, sourceFilePath, and options. [api_file_mgmt_updates.md#112-updatefile-parameters](../tech_specs/api_file_mgmt_updates.md#112-updatefile-parameters)
- REQ-FILEMGMT-448: UpdateFile returns updated FileEntry and error. [api_file_mgmt_updates.md#113-updatefile-returns](../tech_specs/api_file_mgmt_updates.md#113-updatefile-returns)
- REQ-FILEMGMT-449: UpdateFile behavior defines update sequence: locate existing entry, validate filesystem source, deduplicate, apply processing, update FileEntry fields, finalize runtime sources. [api_file_mgmt_updates.md#114-updatefile-behavior](../tech_specs/api_file_mgmt_updates.md#114-updatefile-behavior)
- REQ-FILEMGMT-450: UpdateFile in-memory package state effects update package list and PackageInfo; updated entry visible to subsequent operations without disk write; PackageDataVersion incremented for updates that change stored bytes. [api_file_mgmt_updates.md#117-in-memory-package-state-effects-updatefile](../tech_specs/api_file_mgmt_updates.md#117-in-memory-package-state-effects-updatefile)
- REQ-FILEMGMT-451: UpdateFile error conditions cover package state, missing file, invalid source path, I/O, encryption, and context errors. [api_file_mgmt_updates.md#118-updatefile-error-conditions](../tech_specs/api_file_mgmt_updates.md#118-updatefile-error-conditions)
- REQ-FILEMGMT-452: UpdateFile usage notes document storedPath vs sourceFilePath and AddFileOptions usage [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_updates.md#119-updatefile-usage-notes](../tech_specs/api_file_mgmt_updates.md#119-updatefile-usage-notes)
- REQ-FILEMGMT-013: UpdateFilePattern updates files matching patterns. [api_file_mgmt_updates.md#12-packageupdatefilepattern-method](../tech_specs/api_file_mgmt_updates.md#12-packageupdatefilepattern-method)
- REQ-FILEMGMT-014: UpdateFileMetadata updates file metadata without changing content. [api_file_mgmt_updates.md#13-packageupdatefilemetadata-method](../tech_specs/api_file_mgmt_updates.md#13-packageupdatefilemetadata-method)
- REQ-FILEMGMT-015: AddFilePath adds additional path to existing file entry. [api_file_mgmt_updates.md#14-packageaddfilepath-method](../tech_specs/api_file_mgmt_updates.md#14-packageaddfilepath-method)
- REQ-FILEMGMT-016: RemoveFilePath removes path from file entry. [api_file_mgmt_updates.md#15-packageremovefilepath-method](../tech_specs/api_file_mgmt_updates.md#15-packageremovefilepath-method)
- REQ-FILEMGMT-017: AddFileHash adds hash to file entry metadata. [api_file_mgmt_updates.md#16-packageaddfilehash-method](../tech_specs/api_file_mgmt_updates.md#16-packageaddfilehash-method)
- ~~REQ-FILEMGMT-003: ReadFile obeys encryption and validation~~ [type: obsolete] (obsolete: replaced by REQ-CORE-077 - see core.md).
- ~~REQ-FILEMGMT-135: ReadFile operations support reading file content from packages as bytes~~ [type: obsolete] (obsolete: replaced by REQ-CORE-074 through REQ-CORE-079 - see core.md).
- ~~REQ-FILEMGMT-142: ReadFile purpose is to read file content from package as bytes~~ [type: obsolete] (obsolete: replaced by REQ-CORE-074 - see core.md).
- ~~REQ-FILEMGMT-143: ReadFile parameters include context and path~~ [type: obsolete] (obsolete: replaced by REQ-CORE-075 - see core.md).
- ~~REQ-FILEMGMT-144: ReadFile returns file content as byte slice~~ [type: obsolete] (obsolete: replaced by REQ-CORE-076 - see core.md).
- ~~REQ-FILEMGMT-145: ReadFile behavior includes location, decompression, and decryption~~ [type: obsolete] (obsolete: replaced by REQ-CORE-077 - see core.md).
- ~~REQ-FILEMGMT-146: ReadFile error conditions handle missing files and processing errors~~ [type: obsolete] (obsolete: replaced by REQ-CORE-078 - see core.md).
- ~~REQ-FILEMGMT-147: ReadFile usage notes document reading behavior~~ [type: obsolete] (obsolete: replaced by REQ-CORE-079 - see core.md).
- REQ-FILEMGMT-375: Extraction defaults to PreserveSymlinks: true on Unix-like systems [type: constraint]. [api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior](../tech_specs/api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior)
- REQ-FILEMGMT-376: Extraction defaults to PreserveSymlinks: false on Windows [type: constraint]. [api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior](../tech_specs/api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior)
- REQ-FILEMGMT-377: Windows symlink creation failure returns ErrTypeIO with privilege requirements message [type: constraint]. [api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior](../tech_specs/api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior)
- REQ-FILEMGMT-378: Extraction does not silently fall back to file extraction on symlink failure [type: constraint]. [api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior](../tech_specs/api_file_mgmt_extraction.md#23-extractpathoptions-symlink-behavior)
- REQ-FILEMGMT-379: Extraction enforces symlink chain depth limit to prevent symlink bombs [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-380: Extraction detects circular symlinks and rejects them [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-381: Extraction enforces compression ratio limits to prevent zip-bombs [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-382: Extraction provides optional total extracted size limit (disabled by default, use disk space checks) [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-383: Extraction provides optional individual file size limit (disabled by default, use disk space checks) [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-384: Extraction enforces file count limit to prevent "million files" attacks [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-385: Extraction enforces directory depth limit to prevent filesystem issues [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-386: Extraction performs pre-flight disk space validation before beginning [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-387: Extraction monitors available disk space during extraction and stops if exhausted [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-388: Extraction verifies sufficient space for each file before extracting [type: constraint, security]. [api_file_mgmt_extraction.md#24-extractpathoptions-security-limits](../tech_specs/api_file_mgmt_extraction.md#24-extractpathoptions-security-limits)
- REQ-FILEMGMT-389: Extraction supports concurrent extraction of multiple files using worker pool pattern [type: architectural, performance]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-390: Concurrent extraction uses thread-safe disk space tracking with language-appropriate synchronization primitives [type: constraint, security]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-391: Concurrent extraction prevents race conditions via space reservation before extraction [type: constraint, security]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-392: Concurrent extraction coordinates cancellation across all worker threads/tasks [type: constraint]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-393: Extraction provides progress callbacks including disk space information and worker status [type: non-functional]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-394: Extraction respects context cancellation and cleans up partial files from all workers [type: constraint]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-395: ExtractOptions provides configurable security limits and concurrency settings with safe defaults [type: architectural]. [api_file_mgmt_extraction.md#25-extractpathoptions-concurrency](../tech_specs/api_file_mgmt_extraction.md#25-extractpathoptions-concurrency)
- REQ-FILEMGMT-396: Multi-file extraction prioritizes encrypted files to minimize key lifetime and clears per-file decryption key material after use [type: constraint, security, performance]. [api_file_mgmt_extraction.md#251-extraction-ordering-for-key-lifetime-minimization](../tech_specs/api_file_mgmt_extraction.md#251-extraction-ordering-for-key-lifetime-minimization)
- REQ-FILEMGMT-148: UpdateFilePattern purpose is to update multiple files via pattern. [api_file_mgmt_updates.md#121-updatefilepattern-purpose](../tech_specs/api_file_mgmt_updates.md#121-updatefilepattern-purpose)
- REQ-FILEMGMT-149: UpdateFilePattern parameters include context, pattern, sourceDir, and options. [api_file_mgmt_updates.md#122-updatefilepattern-parameters](../tech_specs/api_file_mgmt_updates.md#122-updatefilepattern-parameters)
- REQ-FILEMGMT-150: UpdateFilePattern returns slice of updated FileEntry objects. [api_file_mgmt_updates.md#123-updatefilepattern-returns](../tech_specs/api_file_mgmt_updates.md#123-updatefilepattern-returns)
- REQ-FILEMGMT-151: UpdateFilePattern behavior includes pattern matching and bulk updates. [api_file_mgmt_updates.md#124-updatefilepattern-behavior](../tech_specs/api_file_mgmt_updates.md#124-updatefilepattern-behavior)
- REQ-FILEMGMT-152: UpdateFilePattern error conditions handle invalid patterns. [api_file_mgmt_updates.md#125-updatefilepattern-error-conditions](../tech_specs/api_file_mgmt_updates.md#125-updatefilepattern-error-conditions)
- REQ-FILEMGMT-153: UpdateFilePattern usage notes document pattern update behavior [type: documentation-only]. [api_file_mgmt_updates.md#126-updatefilepattern-usage-notes](../tech_specs/api_file_mgmt_updates.md#126-updatefilepattern-usage-notes)
- REQ-FILEMGMT-154: UpdateFileMetadata purpose is to update metadata without changing content. [api_file_mgmt_updates.md#131-updatefilemetadata-purpose](../tech_specs/api_file_mgmt_updates.md#131-updatefilemetadata-purpose)
- REQ-FILEMGMT-155: UpdateFileMetadata parameters include context, entry, and metadata. [api_file_mgmt_updates.md#132-updatefilemetadata-parameters](../tech_specs/api_file_mgmt_updates.md#132-updatefilemetadata-parameters)
- REQ-FILEMGMT-156: FileMetadataUpdate structure defines metadata update fields. [api_file_mgmt_updates.md#133-filemetadataupdate-structure](../tech_specs/api_file_mgmt_updates.md#133-filemetadataupdate-structure)
- REQ-FILEMGMT-157: UpdateFileMetadata returns updated FileEntry. [api_file_mgmt_updates.md#134-updatefilemetadata-returns](../tech_specs/api_file_mgmt_updates.md#134-updatefilemetadata-returns)
- REQ-FILEMGMT-158: UpdateFileMetadata behavior includes metadata update and content preservation. [api_file_mgmt_updates.md#135-updatefilemetadata-behavior](../tech_specs/api_file_mgmt_updates.md#135-updatefilemetadata-behavior)
- REQ-FILEMGMT-159: UpdateFileMetadata error conditions handle invalid metadata. [api_file_mgmt_updates.md#136-updatefilemetadata-error-conditions](../tech_specs/api_file_mgmt_updates.md#136-updatefilemetadata-error-conditions)
- REQ-FILEMGMT-160: UpdateFileMetadata usage notes document metadata update behavior [type: documentation-only]. [api_file_mgmt_updates.md#137-updatefilemetadata-usage-notes](../tech_specs/api_file_mgmt_updates.md#137-updatefilemetadata-usage-notes)
- REQ-FILEMGMT-161: AddFilePath purpose is to add additional path to file entry. [api_file_mgmt_updates.md#141-addfilepath-purpose](../tech_specs/api_file_mgmt_updates.md#141-addfilepath-purpose)
- REQ-FILEMGMT-162: AddFilePath parameters include context, entry, and path. [api_file_mgmt_updates.md#142-addfilepath-parameters](../tech_specs/api_file_mgmt_updates.md#142-addfilepath-parameters)
- REQ-FILEMGMT-163: AddFilePath returns updated FileEntry. [api_file_mgmt_updates.md#143-addfilepath-returns](../tech_specs/api_file_mgmt_updates.md#143-addfilepath-returns)
- REQ-FILEMGMT-164: AddFilePath behavior adds path to existing file entry. [api_file_mgmt_updates.md#14-packageaddfilepath-method](../tech_specs/api_file_mgmt_updates.md#14-packageaddfilepath-method)
- REQ-FILEMGMT-165: AddFilePath error conditions handle invalid paths. [api_file_mgmt_updates.md#14-packageaddfilepath-method](../tech_specs/api_file_mgmt_updates.md#14-packageaddfilepath-method)
- REQ-FILEMGMT-166: AddFilePath usage notes document path addition behavior [type: documentation-only]. [api_file_mgmt_updates.md#14-packageaddfilepath-method](../tech_specs/api_file_mgmt_updates.md#14-packageaddfilepath-method)
- REQ-FILEMGMT-167: RemoveFilePath purpose is to remove path from file entry. [api_file_mgmt_updates.md#151-removefilepath-purpose](../tech_specs/api_file_mgmt_updates.md#151-removefilepath-purpose)
- REQ-FILEMGMT-168: RemoveFilePath parameters include context, entry, and path. [api_file_mgmt_updates.md#152-removefilepath-parameters](../tech_specs/api_file_mgmt_updates.md#152-removefilepath-parameters)
- REQ-FILEMGMT-169: RemoveFilePath returns updated FileEntry. [api_file_mgmt_updates.md#153-removefilepath-returns](../tech_specs/api_file_mgmt_updates.md#153-removefilepath-returns)
- REQ-FILEMGMT-170: RemoveFilePath behavior removes path from file entry. [api_file_mgmt_updates.md#15-packageremovefilepath-method](../tech_specs/api_file_mgmt_updates.md#15-packageremovefilepath-method)
- REQ-FILEMGMT-171: RemoveFilePath error conditions handle invalid paths. [api_file_mgmt_updates.md#15-packageremovefilepath-method](../tech_specs/api_file_mgmt_updates.md#15-packageremovefilepath-method)
- REQ-FILEMGMT-172: RemoveFilePath usage notes document path removal behavior [type: documentation-only]. [api_file_mgmt_updates.md#15-packageremovefilepath-method](../tech_specs/api_file_mgmt_updates.md#15-packageremovefilepath-method)
- REQ-FILEMGMT-173: AddFileHash purpose is to add hash to file entry. [api_file_mgmt_updates.md#161-addfilehash-purpose](../tech_specs/api_file_mgmt_updates.md#161-addfilehash-purpose)
- REQ-FILEMGMT-174: AddFileHash parameters include context, entry, and hash. [api_file_mgmt_updates.md#162-addfilehash-parameters](../tech_specs/api_file_mgmt_updates.md#162-addfilehash-parameters)
- REQ-FILEMGMT-175: AddFileHash returns updated FileEntry. [api_file_mgmt_updates.md#163-addfilehash-returns](../tech_specs/api_file_mgmt_updates.md#163-addfilehash-returns)
- REQ-FILEMGMT-176: AddFileHash behavior adds hash to file entry metadata. [api_file_mgmt_updates.md#16-packageaddfilehash-method](../tech_specs/api_file_mgmt_updates.md#16-packageaddfilehash-method)
- REQ-FILEMGMT-177: AddFileHash error conditions handle invalid hashes. [api_file_mgmt_updates.md#16-packageaddfilehash-method](../tech_specs/api_file_mgmt_updates.md#16-packageaddfilehash-method)
- REQ-FILEMGMT-178: AddFileHash usage notes document hash addition behavior [type: documentation-only]. [api_file_mgmt_updates.md#16-packageaddfilehash-method](../tech_specs/api_file_mgmt_updates.md#16-packageaddfilehash-method)
- REQ-FILEMGMT-189: Update file operations provide file modification capabilities. [api_file_mgmt_updates.md#1-updatefile-operations](../tech_specs/api_file_mgmt_updates.md#1-updatefile-operations)

## Path to Symlink Conversion

- REQ-FILEMGMT-352: ConvertPathsToSymlinks converts duplicate paths on a FileEntry to symlinks with configurable options [type: architectural]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-453: ConvertPathsToSymlinks parameters include context, entry, paths, and options. [api_file_mgmt_updates.md#175-convertpathstosymlinks-parameters](../tech_specs/api_file_mgmt_updates.md#175-convertpathstosymlinks-parameters)
- REQ-FILEMGMT-454: ConvertPathsToSymlinks returns updated FileEntry and error. [api_file_mgmt_updates.md#176-convertpathstosymlinks-returns](../tech_specs/api_file_mgmt_updates.md#176-convertpathstosymlinks-returns)
- REQ-FILEMGMT-455: ConvertPathsToSymlinks behavior converts non-primary paths to symlinks per options and updates path metadata consistently. [api_file_mgmt_updates.md#177-convertpathstosymlinks-behavior](../tech_specs/api_file_mgmt_updates.md#177-convertpathstosymlinks-behavior)
- REQ-FILEMGMT-456: ConvertPathsToSymlinks error conditions cover invalid input, path validation failures, and conversion failures. [api_file_mgmt_updates.md#178-convertpathstosymlinks-error-conditions](../tech_specs/api_file_mgmt_updates.md#178-convertpathstosymlinks-error-conditions)
- REQ-FILEMGMT-353: SymlinkConvertOptions configures conversion behavior including primary path selection, metadata preservation, and validation [type: architectural]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-354: PrimaryPath option allows explicit specification of canonical path, either existing or new [type: constraint]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-355: PrimaryPathSelector allows custom selection logic for choosing canonical path [type: constraint]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-356: ConvertAllPathsToSymlinks performs batch conversion of all multi-path FileEntry objects [type: architectural]. [api_file_mgmt_updates.md#179-convertallpathstosymlinks-purpose](../tech_specs/api_file_mgmt_updates.md#179-convertallpathstosymlinks-purpose) (Exception: also [api_file_mgmt_updates.md#1710-convertallpathstosymlinks-behavior](../tech_specs/api_file_mgmt_updates.md#1710-convertallpathstosymlinks-behavior) for coverage.)
- REQ-FILEMGMT-457: ConvertSymlinksToHardLinks behavior converts symlink paths to hard link paths per conversion rules. [api_file_mgmt_updates.md#1712-convertsymlinkstohardlinks-behavior](../tech_specs/api_file_mgmt_updates.md#1712-convertsymlinkstohardlinks-behavior)
- REQ-FILEMGMT-357: GetMultiPathEntries returns all FileEntry objects with PathCount > 1 [type: architectural]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-358: GetMultiPathCount returns count of multi-path FileEntry objects [type: architectural]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-359: PathHandling enum defines multiple path handling strategies (hard links, symlinks, preserve) [type: architectural]. [api_file_mgmt_addition.md#27-pathhandling-type](../tech_specs/api_file_mgmt_addition.md#27-pathhandling-type)
  (Exception: also [api_file_mgmt_addition.md#272-pathhandling-values](../tech_specs/api_file_mgmt_addition.md#272-pathhandling-values), [api_file_mgmt_addition.md#2810-pathhandling-options](../tech_specs/api_file_mgmt_addition.md#2810-pathhandling-options) for coverage.)
- REQ-FILEMGMT-360: AddFileOptions.PathHandling configures path handling behavior during file addition [type: constraint]. [api_file_mgmt_addition.md#2810-pathhandling-options](../tech_specs/api_file_mgmt_addition.md#2810-pathhandling-options)
- REQ-FILEMGMT-361: Package.DefaultPathHandling sets package-wide default for path handling [type: architectural]. [api_basic_operations.md#911-packageconfig-fields](../tech_specs/api_basic_operations.md#911-packageconfig-fields)
- REQ-FILEMGMT-362: Package.AutoConvertToSymlinks enables automatic conversion during deduplication [type: constraint]. [api_basic_operations.md#911-packageconfig-fields](../tech_specs/api_basic_operations.md#911-packageconfig-fields)
- REQ-FILEMGMT-363: New PrimaryPath (not in FileEntry.Paths) is validated and added before conversion [type: constraint]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-364: Conversion preserves path metadata when PreservePathMetadata is enabled [type: constraint]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)
- REQ-FILEMGMT-365: Conversion updates FileEntry.PathCount, FileEntry.MetadataVersion, and FileEntry.Paths [type: constraint]. [api_file_mgmt_updates.md#171-convertpathstosymlinks-methods](../tech_specs/api_file_mgmt_updates.md#171-convertpathstosymlinks-methods)

## Symlink Validation

- REQ-FILEMGMT-366: ValidateSymlinkPaths validates symlink source and target paths are within package root and target exists [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-367: TargetExists checks if path exists as FileEntry or directory PathMetadataEntry, accepts context for cancellation [type: architectural]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-368: ValidatePathWithinPackageRoot validates paths do not escape package root [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-369: AddSymlink validates paths before adding symlink to package [type: constraint]. [api_metadata.md#82-pathmetadata-management-methods](../tech_specs/api_metadata.md#82-pathmetadata-management-methods)

## Path Constraints for Symlinks

- REQ-FILEMGMT-370: All symlink paths MUST be package-relative with leading "/" [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-371: All symlink paths MUST be within package root boundary [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-372: Symlink target MUST exist as FileEntry or PathMetadataEntry directory [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-373: Path validation returns ErrTypeSecurity for paths escaping package root [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)
- REQ-FILEMGMT-374: Path validation returns ErrTypeNotFound for non-existent symlink targets [type: constraint]. [api_metadata.md#854-symlink-validation-methods](../tech_specs/api_metadata.md#854-symlink-validation-methods)

## File Extraction Operations

- REQ-FILEMGMT-397: ExtractPath purpose is to extract files and directories to the filesystem. [api_file_mgmt_extraction.md#11-extractpath-purpose](../tech_specs/api_file_mgmt_extraction.md#11-extractpath-purpose)
- REQ-FILEMGMT-398: ExtractPath parameters include context, storedPath, isWindows, and options. [api_file_mgmt_extraction.md#13-extractpath-parameters](../tech_specs/api_file_mgmt_extraction.md#13-extractpath-parameters)
- REQ-FILEMGMT-399: ExtractPath returns error on failure. [api_file_mgmt_extraction.md#14-extractpath-returns](../tech_specs/api_file_mgmt_extraction.md#14-extractpath-returns)
- REQ-FILEMGMT-400: ExtractPath behavior includes destination resolution, directory creation, and metadata application. [api_file_mgmt_extraction.md#15-extractpath-behavior](../tech_specs/api_file_mgmt_extraction.md#15-extractpath-behavior)
- REQ-FILEMGMT-401: ExtractPath destination resolution follows precedence: call-time override > stored destination > default relative to session base. [api_file_mgmt_extraction.md#151-extractpath-destination-resolution](../tech_specs/api_file_mgmt_extraction.md#151-extractpath-destination-resolution)
- REQ-FILEMGMT-402: ExtractPath requires session base when computing default-relative destinations or resolving relative stored destinations. [api_file_mgmt_extraction.md#151-extractpath-destination-resolution](../tech_specs/api_file_mgmt_extraction.md#151-extractpath-destination-resolution)
- REQ-FILEMGMT-403: ExtractPath restricts extraction to session base and package subdirectories by default, requiring explicit allow flag for external destinations. [api_file_mgmt_extraction.md#153-extractpath-external-destination-handling](../tech_specs/api_file_mgmt_extraction.md#153-extractpath-external-destination-handling)
- REQ-FILEMGMT-404: ExtractPath error conditions handle missing files, invalid destinations, and processing errors. [api_file_mgmt_extraction.md#17-extractpath-error-conditions](../tech_specs/api_file_mgmt_extraction.md#17-extractpath-error-conditions)
- REQ-FILEMGMT-408: ExtractPathOptions provides destination overrides at call-time (RootDestOverride, DirDestOverrides, FileDestOverrides). [api_file_mgmt_extraction.md#22-extractpathoptions-destination-configuration](../tech_specs/api_file_mgmt_extraction.md#22-extractpathoptions-destination-configuration) (Exception: also [api_file_mgmt_extraction.md#1511-destpathspec-struct](../tech_specs/api_file_mgmt_extraction.md#1511-destpathspec-struct) for coverage.)
- REQ-FILEMGMT-409: ExtractPathOptions.IgnoreStoredDestPaths allows ignoring stored PathMetadataEntry destination paths. [api_file_mgmt_extraction.md#22-extractpathoptions-destination-configuration](../tech_specs/api_file_mgmt_extraction.md#22-extractpathoptions-destination-configuration)
- REQ-FILEMGMT-410: ExtractPathOptions.AllowExternalDestinations allows extraction outside session base and package subdirectories. [api_file_mgmt_extraction.md#153-extractpath-external-destination-handling](../tech_specs/api_file_mgmt_extraction.md#153-extractpath-external-destination-handling)
- REQ-FILEMGMT-411: ExtractPathOptions.SkipDisallowedExternalDestinations skips files with disallowed external destinations instead of erroring. [api_file_mgmt_extraction.md#153-extractpath-external-destination-handling](../tech_specs/api_file_mgmt_extraction.md#153-extractpath-external-destination-handling)
- REQ-FILEMGMT-458: ExtractPath path handling treats storedPath as stored package path (prefix `/` if missing) and converts path separators for filesystem extraction based on target platform. [api_file_mgmt_extraction.md#16-extractpath-path-handling](../tech_specs/api_file_mgmt_extraction.md#16-extractpath-path-handling)
- REQ-FILEMGMT-459: ExtractPath case sensitivity handling fails extraction on case conflicts when extracting to a case-insensitive filesystem. [api_file_mgmt_extraction.md#161-extractpath-case-sensitivity-handling](../tech_specs/api_file_mgmt_extraction.md#161-extractpath-case-sensitivity-handling)
- REQ-FILEMGMT-460: ExtractPath usage notes document filesystem extraction and point to ReadFile for in-memory reads [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_extraction.md#18-extractpath-usage-notes](../tech_specs/api_file_mgmt_extraction.md#18-extractpath-usage-notes)
- REQ-FILEMGMT-461: Extraction multi-stage pipeline flow defines extraction pipeline stages and processing order for large-file operations [type: architectural]. [api_file_mgmt_extraction.md#3-extraction-multi-stage-pipeline-flow](../tech_specs/api_file_mgmt_extraction.md#3-extraction-multi-stage-pipeline-flow)

## File Information and Queries

- REQ-FILEMGMT-021: File information and queries provide comprehensive file lookup. [api_file_mgmt_queries.md#0-overview](../tech_specs/api_file_mgmt_queries.md#0-overview)
- REQ-FILEMGMT-022: FileEntry methods provide file entry operations. [api_file_mgmt_file_entry.md#1-fileentry-structure](../tech_specs/api_file_mgmt_file_entry.md#1-fileentry-structure)
- REQ-FILEMGMT-028: FileExists checks if file exists and returns file entry information. [api_file_mgmt_queries.md#111-packagefileexists-method](../tech_specs/api_file_mgmt_queries.md#111-packagefileexists-method)
- REQ-FILEMGMT-029: ListFiles returns list of all files in package. [api_file_mgmt_queries.md#112-packagelistfiles-method](../tech_specs/api_file_mgmt_queries.md#112-packagelistfiles-method)
- REQ-FILEMGMT-030: FindEntriesByPathPatterns returns file entries matching path patterns. [api_file_mgmt_queries.md#33-findentriesbypathpatterns](../tech_specs/api_file_mgmt_queries.md#33-findentriesbypathpatterns)
- REQ-FILEMGMT-255: Multi-entry queries return slice of FileEntry values for tag, type, or pattern-based queries [type: architectural]. [api_file_mgmt_queries.md#3-multi-entry-queries](../tech_specs/api_file_mgmt_queries.md#3-multi-entry-queries)
- REQ-FILEMGMT-256: Package FindEntriesByPathPatterns method gets files matching patterns from the package. [api_file_mgmt_queries.md#331-packagefindentriesbypathpatterns-method](../tech_specs/api_file_mgmt_queries.md#331-packagefindentriesbypathpatterns-method)
- REQ-FILEMGMT-257: FindEntriesByPathPatterns purpose defines file entry lookup by path pattern matching [type: architectural]. [api_file_mgmt_queries.md#332-findentriesbypathpatterns-purpose](../tech_specs/api_file_mgmt_queries.md#332-findentriesbypathpatterns-purpose)
- REQ-FILEMGMT-258: FindEntriesByPathPatterns parameters define pattern list input [type: architectural]. [api_file_mgmt_queries.md#333-findentriesbypathpatterns-parameters](../tech_specs/api_file_mgmt_queries.md#333-findentriesbypathpatterns-parameters)
- REQ-FILEMGMT-259: FindEntriesByPathPatterns returns define FileEntry slice and error return [type: architectural]. [api_file_mgmt_queries.md#334-findentriesbypathpatterns-returns](../tech_specs/api_file_mgmt_queries.md#334-findentriesbypathpatterns-returns)
- REQ-FILEMGMT-260: FindEntriesByPathPatterns use cases define pattern-based lookup scenarios [type: documentation-only] (documentation-only: use cases - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#335-findentriesbypathpatterns-use-cases](../tech_specs/api_file_mgmt_queries.md#335-findentriesbypathpatterns-use-cases)
- REQ-FILEMGMT-261: Aggregate queries and filtered lists return non-FileEntry values or filtered lists for common criteria [type: architectural]. [api_file_mgmt_queries.md#4-aggregate-queries-and-filtered-lists](../tech_specs/api_file_mgmt_queries.md#4-aggregate-queries-and-filtered-lists)
- REQ-FILEMGMT-262: Package ListCompressedFiles method returns all compressed file entries. [api_file_mgmt_queries.md#42-listcompressedfiles](../tech_specs/api_file_mgmt_queries.md#42-listcompressedfiles)
- REQ-FILEMGMT-263: ListCompressedFiles purpose defines compressed file entry retrieval [type: architectural]. [api_file_mgmt_queries.md#422-listcompressedfiles-purpose](../tech_specs/api_file_mgmt_queries.md#422-listcompressedfiles-purpose)
- REQ-FILEMGMT-264: ListCompressedFiles parameters define no input parameters [type: architectural]. [api_file_mgmt_queries.md#423-listcompressedfiles-parameters](../tech_specs/api_file_mgmt_queries.md#423-listcompressedfiles-parameters)
- REQ-FILEMGMT-265: ListCompressedFiles returns define FileEntry slice and error return [type: architectural]. [api_file_mgmt_queries.md#424-listcompressedfiles-returns](../tech_specs/api_file_mgmt_queries.md#424-listcompressedfiles-returns)
- REQ-FILEMGMT-266: ListCompressedFiles use cases define compressed file listing scenarios [type: documentation-only] (documentation-only: use cases - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#425-listcompressedfiles-use-cases](../tech_specs/api_file_mgmt_queries.md#425-listcompressedfiles-use-cases)
- REQ-FILEMGMT-267: Package ListEncryptedFiles method returns all encrypted file entries. [api_file_mgmt_queries.md#43-listencryptedfiles](../tech_specs/api_file_mgmt_queries.md#43-listencryptedfiles)
- REQ-FILEMGMT-291: ListEncryptedFiles purpose defines encrypted file entry retrieval [type: architectural]. [api_file_mgmt_queries.md#432-listencryptedfiles-purpose](../tech_specs/api_file_mgmt_queries.md#432-listencryptedfiles-purpose)
- REQ-FILEMGMT-292: ListEncryptedFiles parameters define no input parameters [type: architectural]. [api_file_mgmt_queries.md#433-listencryptedfiles-parameters](../tech_specs/api_file_mgmt_queries.md#433-listencryptedfiles-parameters)
- REQ-FILEMGMT-293: ListEncryptedFiles returns define FileEntry slice and error return [type: architectural]. [api_file_mgmt_queries.md#434-listencryptedfiles-returns](../tech_specs/api_file_mgmt_queries.md#434-listencryptedfiles-returns)
- REQ-FILEMGMT-294: ListEncryptedFiles use cases define encrypted file listing scenarios [type: documentation-only] (documentation-only: use cases - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#435-listencryptedfiles-use-cases](../tech_specs/api_file_mgmt_queries.md#435-listencryptedfiles-use-cases)
- REQ-FILEMGMT-031: GetFileByPath gets file entry by path. [api_file_mgmt_queries.md#21-getfilebypath](../tech_specs/api_file_mgmt_queries.md#21-getfilebypath)
- REQ-FILEMGMT-032: GetFileByOffset gets file entry by offset. [api_file_mgmt_queries.md#22-getfilebyoffset](../tech_specs/api_file_mgmt_queries.md#22-getfilebyoffset)
- REQ-FILEMGMT-268: File existence and listing defines basic file existence checks and listing operations [type: architectural]. [api_file_mgmt_queries.md#1-file-existence-and-listing](../tech_specs/api_file_mgmt_queries.md#1-file-existence-and-listing)
- REQ-FILEMGMT-269: Package methods define FileExists and ListFiles methods [type: architectural]. [api_file_mgmt_queries.md#11-package-methods](../tech_specs/api_file_mgmt_queries.md#11-package-methods)
- REQ-FILEMGMT-270: Package FileExists method checks if a file with the given path exists in the package. [api_file_mgmt_queries.md#111-packagefileexists-method](../tech_specs/api_file_mgmt_queries.md#111-packagefileexists-method)
- REQ-FILEMGMT-271: Package ListFiles method returns all file entries in the package. [api_file_mgmt_queries.md#112-packagelistfiles-method](../tech_specs/api_file_mgmt_queries.md#112-packagelistfiles-method)
- REQ-FILEMGMT-272: Purpose defines basic file existence checks and listing operations [type: architectural]. [api_file_mgmt_queries.md#12-purpose](../tech_specs/api_file_mgmt_queries.md#12-purpose)
- REQ-FILEMGMT-273: FileEntry access defines query function return types [type: architectural]. [api_file_mgmt_queries.md#13-fileentry-access](../tech_specs/api_file_mgmt_queries.md#13-fileentry-access)
- REQ-FILEMGMT-274: Usage notes document directory listing and metadata API usage [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#14-usage-notes](../tech_specs/api_file_mgmt_queries.md#14-usage-notes)
- REQ-FILEMGMT-275: Single-entry lookups define methods to retrieve one FileEntry by identifier [type: architectural]. [api_file_mgmt_queries.md#2-single-entry-lookups](../tech_specs/api_file_mgmt_queries.md#2-single-entry-lookups)
- REQ-FILEMGMT-276: Package GetFileByPath method gets a file entry by path. [api_file_mgmt_queries.md#211-packagegetfilebypath-method](../tech_specs/api_file_mgmt_queries.md#211-packagegetfilebypath-method)
- REQ-FILEMGMT-277: GetFileByPath purpose defines file entry lookup by virtual path [type: architectural]. [api_file_mgmt_queries.md#212-getfilebypath-purpose](../tech_specs/api_file_mgmt_queries.md#212-getfilebypath-purpose)
- REQ-FILEMGMT-278: GetFileByPath parameters define virtual path input [type: architectural]. [api_file_mgmt_queries.md#213-getfilebypath-parameters](../tech_specs/api_file_mgmt_queries.md#213-getfilebypath-parameters)
- REQ-FILEMGMT-279: GetFileByPath returns define FileEntry and error return [type: architectural]. [api_file_mgmt_queries.md#214-getfilebypath-returns](../tech_specs/api_file_mgmt_queries.md#214-getfilebypath-returns)
- REQ-FILEMGMT-280: GetFileByPath use cases define path-based lookup scenarios [type: documentation-only] (documentation-only: use cases - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#215-getfilebypath-use-cases](../tech_specs/api_file_mgmt_queries.md#215-getfilebypath-use-cases)
- REQ-FILEMGMT-281: Package GetFileByOffset method gets a file entry by offset. [api_file_mgmt_queries.md#221-packagegetfilebyoffset-method](../tech_specs/api_file_mgmt_queries.md#221-packagegetfilebyoffset-method)
- REQ-FILEMGMT-282: GetFileByOffset purpose defines file entry lookup by package file offset [type: architectural]. [api_file_mgmt_queries.md#222-getfilebyoffset-purpose](../tech_specs/api_file_mgmt_queries.md#222-getfilebyoffset-purpose)
- REQ-FILEMGMT-283: GetFileByOffset parameters define offset input [type: architectural]. [api_file_mgmt_queries.md#223-getfilebyoffset-parameters](../tech_specs/api_file_mgmt_queries.md#223-getfilebyoffset-parameters)
- REQ-FILEMGMT-284: GetFileByOffset returns define FileEntry and error return [type: architectural]. [api_file_mgmt_queries.md#224-getfilebyoffset-returns](../tech_specs/api_file_mgmt_queries.md#224-getfilebyoffset-returns)
- REQ-FILEMGMT-285: GetFileByOffset use cases define offset-based lookup scenarios [type: documentation-only] (documentation-only: use cases - DO NOT CREATE FEATURE FILE). [api_file_mgmt_queries.md#225-getfilebyoffset-use-cases](../tech_specs/api_file_mgmt_queries.md#225-getfilebyoffset-use-cases)
- REQ-FILEMGMT-090: File information queries provide file existence and property access. [api_file_mgmt_queries.md#12-purpose](../tech_specs/api_file_mgmt_queries.md#12-purpose)
- REQ-FILEMGMT-091: FileEntry access methods retrieve file entry information. [api_file_mgmt_queries.md#13-fileentry-access](../tech_specs/api_file_mgmt_queries.md#13-fileentry-access)
- REQ-FILEMGMT-092: File information usage notes document query patterns [type: documentation-only]. [api_file_mgmt_queries.md#14-usage-notes](../tech_specs/api_file_mgmt_queries.md#14-usage-notes)
- REQ-FILEMGMT-093: File lookup by metadata supports metadata-based file queries. [api_file_mgmt_queries.md#2-single-entry-lookups](../tech_specs/api_file_mgmt_queries.md#2-single-entry-lookups)
- REQ-FILEMGMT-094: FileEntry properties methods provide property access. [api_file_mgmt_queries.md#12-purpose](../tech_specs/api_file_mgmt_queries.md#12-purpose)
- REQ-FILEMGMT-095: IsCompressed returns compression status. [api_file_mgmt_file_entry.md#76-iscompressed-returns](../tech_specs/api_file_mgmt_file_entry.md#76-iscompressed-returns)
- REQ-FILEMGMT-096: HasEncryptionKey returns encryption key presence status. [api_file_mgmt_file_entry.md#77-hasencryptionkey-returns](../tech_specs/api_file_mgmt_file_entry.md#77-hasencryptionkey-returns)
- REQ-FILEMGMT-097: IsEncrypted returns encryption status. [api_file_mgmt_file_entry.md#79-isencrypted-returns](../tech_specs/api_file_mgmt_file_entry.md#79-isencrypted-returns)
- REQ-FILEMGMT-098: ToBinaryFormat returns binary representation. [api_file_mgmt_file_entry.md#7-fileentry-properties](../tech_specs/api_file_mgmt_file_entry.md#7-fileentry-properties)
- REQ-FILEMGMT-099: FileEntry properties usage notes document property access [type: documentation-only]. [api_file_mgmt_file_entry.md#7-fileentry-properties](../tech_specs/api_file_mgmt_file_entry.md#7-fileentry-properties)
- REQ-FILEMGMT-062: GetFileByFileID provides file lookup by identifier. [api_file_mgmt_queries.md#23-getfilebyfileid](../tech_specs/api_file_mgmt_queries.md#23-getfilebyfileid)
- REQ-FILEMGMT-063: GetFileByFileID purpose defines identifier lookup functionality. [api_file_mgmt_queries.md#232-getfilebyfileid-purpose](../tech_specs/api_file_mgmt_queries.md#232-getfilebyfileid-purpose)
- REQ-FILEMGMT-064: GetFileByFileID parameters define identifier lookup interface. [api_file_mgmt_queries.md#233-getfilebyfileid-parameters](../tech_specs/api_file_mgmt_queries.md#233-getfilebyfileid-parameters)
- REQ-FILEMGMT-065: GetFileByFileID returns define lookup results. [api_file_mgmt_queries.md#234-getfilebyfileid-returns](../tech_specs/api_file_mgmt_queries.md#234-getfilebyfileid-returns)
- REQ-FILEMGMT-250: GetFileByFileID use cases define identifier lookup scenarios. [api_file_mgmt_queries.md#235-getfilebyfileid-use-cases](../tech_specs/api_file_mgmt_queries.md#235-getfilebyfileid-use-cases)
- REQ-FILEMGMT-286: Package GetFileByFileID method gets a file entry by its unique FileID. [api_file_mgmt_queries.md#231-packagegetfilebyfileid-method](../tech_specs/api_file_mgmt_queries.md#231-packagegetfilebyfileid-method)
- REQ-FILEMGMT-251: GetFileByHash provides file lookup by hash. [api_file_mgmt_queries.md#24-getfilebyhash](../tech_specs/api_file_mgmt_queries.md#24-getfilebyhash)
- REQ-FILEMGMT-252: GetFileByHash purpose defines hash lookup functionality. [api_file_mgmt_queries.md#242-getfilebyhash-purpose](../tech_specs/api_file_mgmt_queries.md#242-getfilebyhash-purpose)
- REQ-FILEMGMT-209: GetFileByHash parameters define hash lookup interface. [api_file_mgmt_queries.md#243-getfilebyhash-parameters](../tech_specs/api_file_mgmt_queries.md#243-getfilebyhash-parameters)
- REQ-FILEMGMT-210: GetFileByHash returns define hash lookup results. [api_file_mgmt_queries.md#244-getfilebyhash-returns](../tech_specs/api_file_mgmt_queries.md#244-getfilebyhash-returns)
- REQ-FILEMGMT-211: GetFileByHash use cases define hash lookup scenarios. [api_file_mgmt_queries.md#245-getfilebyhash-use-cases](../tech_specs/api_file_mgmt_queries.md#245-getfilebyhash-use-cases)
- REQ-FILEMGMT-287: Package GetFileByHash method gets a file entry by content hash. [api_file_mgmt_queries.md#241-packagegetfilebyhash-method](../tech_specs/api_file_mgmt_queries.md#241-packagegetfilebyhash-method)
- REQ-FILEMGMT-212: GetFileByChecksum provides file lookup by checksum. [api_file_mgmt_queries.md#25-getfilebychecksum](../tech_specs/api_file_mgmt_queries.md#25-getfilebychecksum)
- REQ-FILEMGMT-213: GetFileByChecksum purpose defines checksum lookup functionality. [api_file_mgmt_queries.md#252-getfilebychecksum-purpose](../tech_specs/api_file_mgmt_queries.md#252-getfilebychecksum-purpose)
- REQ-FILEMGMT-214: GetFileByChecksum parameters define checksum lookup interface. [api_file_mgmt_queries.md#253-getfilebychecksum-parameters](../tech_specs/api_file_mgmt_queries.md#253-getfilebychecksum-parameters)
- REQ-FILEMGMT-215: GetFileByChecksum returns define checksum lookup results. [api_file_mgmt_queries.md#254-getfilebychecksum-returns](../tech_specs/api_file_mgmt_queries.md#254-getfilebychecksum-returns)
- REQ-FILEMGMT-216: GetFileByChecksum use cases define checksum lookup scenarios. [api_file_mgmt_queries.md#255-getfilebychecksum-use-cases](../tech_specs/api_file_mgmt_queries.md#255-getfilebychecksum-use-cases)
- REQ-FILEMGMT-288: Package GetFileByChecksum method gets a file entry by CRC32 checksum. [api_file_mgmt_queries.md#251-packagegetfilebychecksum-method](../tech_specs/api_file_mgmt_queries.md#251-packagegetfilebychecksum-method)
- REQ-FILEMGMT-217: FindEntriesByTag provides tag-based file search. [api_file_mgmt_queries.md#31-findentriesbytag](../tech_specs/api_file_mgmt_queries.md#31-findentriesbytag)
- REQ-FILEMGMT-218: FindEntriesByTag purpose defines tag search functionality. [api_file_mgmt_queries.md#312-findentriesbytag-purpose](../tech_specs/api_file_mgmt_queries.md#312-findentriesbytag-purpose)
- REQ-FILEMGMT-219: FindEntriesByTag parameters define tag search interface. [api_file_mgmt_queries.md#313-findentriesbytag-parameters](../tech_specs/api_file_mgmt_queries.md#313-findentriesbytag-parameters)
- REQ-FILEMGMT-220: FindEntriesByTag returns define tag search results. [api_file_mgmt_queries.md#314-findentriesbytag-returns](../tech_specs/api_file_mgmt_queries.md#314-findentriesbytag-returns)
- REQ-FILEMGMT-221: FindEntriesByTag use cases define tag search scenarios. [api_file_mgmt_queries.md#315-findentriesbytag-use-cases](../tech_specs/api_file_mgmt_queries.md#315-findentriesbytag-use-cases)
- REQ-FILEMGMT-289: Package FindEntriesByTag method finds all file entries with a specific tag. [api_file_mgmt_queries.md#311-packagefindentriesbytag-method](../tech_specs/api_file_mgmt_queries.md#311-packagefindentriesbytag-method)
- REQ-FILEMGMT-222: FindEntriesByType provides type-based file search. [api_file_mgmt_queries.md#32-findentriesbytype](../tech_specs/api_file_mgmt_queries.md#32-findentriesbytype)
- REQ-FILEMGMT-223: FindEntriesByType purpose defines type search functionality. [api_file_mgmt_queries.md#322-findentriesbytype-purpose](../tech_specs/api_file_mgmt_queries.md#322-findentriesbytype-purpose)
- REQ-FILEMGMT-224: FindEntriesByType parameters define type search interface. [api_file_mgmt_queries.md#323-findentriesbytype-parameters](../tech_specs/api_file_mgmt_queries.md#323-findentriesbytype-parameters)
- REQ-FILEMGMT-225: FindEntriesByType returns define type search results. [api_file_mgmt_queries.md#324-findentriesbytype-returns](../tech_specs/api_file_mgmt_queries.md#324-findentriesbytype-returns)
- REQ-FILEMGMT-226: FindEntriesByType use cases define type search scenarios. [api_file_mgmt_queries.md#325-findentriesbytype-use-cases](../tech_specs/api_file_mgmt_queries.md#325-findentriesbytype-use-cases)
- REQ-FILEMGMT-290: Package FindEntriesByType method finds all file entries with a specific file type. [api_file_mgmt_queries.md#321-packagefindentriesbytype-method](../tech_specs/api_file_mgmt_queries.md#321-packagefindentriesbytype-method)
- REQ-FILEMGMT-227: GetFileCount provides file count query. [api_file_mgmt_queries.md#41-getfilecount](../tech_specs/api_file_mgmt_queries.md#41-getfilecount)
- REQ-FILEMGMT-228: GetFileCount purpose defines count query functionality. [api_file_mgmt_queries.md#412-getfilecount-purpose](../tech_specs/api_file_mgmt_queries.md#412-getfilecount-purpose)
- REQ-FILEMGMT-229: GetFileCount parameters define count query interface. [api_file_mgmt_queries.md#413-getfilecount-parameters](../tech_specs/api_file_mgmt_queries.md#413-getfilecount-parameters)
- REQ-FILEMGMT-230: GetFileCount returns define count query results. [api_file_mgmt_queries.md#414-getfilecount-returns](../tech_specs/api_file_mgmt_queries.md#414-getfilecount-returns)
- REQ-FILEMGMT-231: GetFileCount use cases define count query scenarios. [api_file_mgmt_queries.md#415-getfilecount-use-cases](../tech_specs/api_file_mgmt_queries.md#415-getfilecount-use-cases)
- REQ-FILEMGMT-232: 11.1 File Entry Properties is specified and implemented. [api_file_mgmt_file_entry.md#7-fileentry-properties](../tech_specs/api_file_mgmt_file_entry.md#7-fileentry-properties)
- REQ-FILEMGMT-300: NewFileEntry creates a new FileEntry with proper tag synchronization. [api_file_mgmt_file_entry.md#21-newfileentry-function](../tech_specs/api_file_mgmt_file_entry.md#21-newfileentry-function) (Exception: also [api_file_mgmt_file_entry.md#211-newfileentry-function-signature](../tech_specs/api_file_mgmt_file_entry.md#211-newfileentry-function-signature) for coverage.)

## File Metadata Capture

- REQ-FILEMGMT-322: PathFileSystem.IsExecutable captures execute permission status. [api_file_mgmt_addition.md#2812-execute-permissions-always-captured](../tech_specs/api_file_mgmt_addition.md#2812-execute-permissions-always-captured)
- REQ-FILEMGMT-323: IsExecutable is always captured regardless of PreservePermissions setting. [api_file_mgmt_addition.md#2812-execute-permissions-always-captured](../tech_specs/api_file_mgmt_addition.md#2812-execute-permissions-always-captured)
- REQ-FILEMGMT-324: IsExecutable is set to true if any execute bit is set (user, group, or other). [api_file_mgmt_addition.md#2812-execute-permissions-always-captured](../tech_specs/api_file_mgmt_addition.md#2812-execute-permissions-always-captured)

## FileEntry Methods

- REQ-FILEMGMT-100: FileEntry encryption methods manage encryption keys and operations. [api_file_mgmt_file_entry.md#95-fileentry-encryption-purpose](../tech_specs/api_file_mgmt_file_entry.md#95-fileentry-encryption-purpose)
- REQ-FILEMGMT-101: SetEncryptionKey parameters configure encryption key. [api_file_mgmt_file_entry.md#96-setencryptionkey-parameters](../tech_specs/api_file_mgmt_file_entry.md#96-setencryptionkey-parameters)
- REQ-FILEMGMT-102: Encrypt/Decrypt parameters define encryption operations. [api_file_mgmt_file_entry.md#97-encryptdecrypt-parameters](../tech_specs/api_file_mgmt_file_entry.md#97-encryptdecrypt-parameters)
- REQ-FILEMGMT-103: FileEntry encryption error conditions handle encryption failures. [api_file_mgmt_file_entry.md#98-fileentry-encryption-error-conditions](../tech_specs/api_file_mgmt_file_entry.md#98-fileentry-encryption-error-conditions)
- REQ-FILEMGMT-104: FileEntry encryption usage notes document encryption patterns [type: documentation-only]. [api_file_mgmt_file_entry.md#99-fileentry-encryption-usage-notes](../tech_specs/api_file_mgmt_file_entry.md#99-fileentry-encryption-usage-notes)
- REQ-FILEMGMT-105: FileEntry data management methods handle data loading and processing. [api_file_mgmt_file_entry.md#10-fileentry-data-management](../tech_specs/api_file_mgmt_file_entry.md#10-fileentry-data-management)
- REQ-FILEMGMT-106: LoadData behavior loads file content into memory. [api_file_mgmt_file_entry.md#104-loaddata-behavior](../tech_specs/api_file_mgmt_file_entry.md#104-loaddata-behavior)
- REQ-FILEMGMT-107: ProcessData behavior processes file content. [api_file_mgmt_file_entry.md#105-processdata-behavior](../tech_specs/api_file_mgmt_file_entry.md#105-processdata-behavior)
- REQ-FILEMGMT-108: FileEntry data management error conditions handle data errors. [api_file_mgmt_file_entry.md#106-fileentry-data-management-error-conditions](../tech_specs/api_file_mgmt_file_entry.md#106-fileentry-data-management-error-conditions)
- REQ-FILEMGMT-109: FileEntry data management usage notes document data handling [type: documentation-only]. [api_file_mgmt_file_entry.md#107-fileentry-data-management-usage-notes](../tech_specs/api_file_mgmt_file_entry.md#107-fileentry-data-management-usage-notes)
- REQ-FILEMGMT-462: FileEntry.ValidateSources validates CurrentSource, OriginalSource, and transform pipeline consistency. [api_file_mgmt_file_entry.md#456-fileentryvalidatesources-method](../tech_specs/api_file_mgmt_file_entry.md#456-fileentryvalidatesources-method)
- REQ-FILEMGMT-463: FileEntry marshaling usage notes document marshaling and write patterns [type: documentation-only] (documentation-only: usage guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_file_entry.md#65-fileentry-marshaling-usage-notes](../tech_specs/api_file_mgmt_file_entry.md#65-fileentry-marshaling-usage-notes)
- REQ-FILEMGMT-061: File entry data management provides data operation support. [api_file_mgmt_file_entry.md#10-fileentry-data-management](../tech_specs/api_file_mgmt_file_entry.md#10-fileentry-data-management)
- REQ-FILEMGMT-233: 11.2 File Entry Encryption is specified and implemented. [api_file_mgmt_file_entry.md#9-fileentry-encryption](../tech_specs/api_file_mgmt_file_entry.md#9-fileentry-encryption)

## File Compression Operations

- REQ-FILEMGMT-018: File compression operations support per-file compression. [api_file_mgmt_compression.md#1-fileentrycompress-method](../tech_specs/api_file_mgmt_compression.md#1-fileentrycompress-method)
- REQ-FILEMGMT-033: GetFileCompressionInfo gets compression information for file.
  [api_file_mgmt_compression.md#38-package-getfilecompressioninfo-error-conditions](../tech_specs/api_file_mgmt_compression.md#38-package-getfilecompressioninfo-error-conditions)
- REQ-FILEMGMT-035: CompressFile compresses existing file in package.
  [api_file_mgmt_compression.md#17-packagecompressfile-parameters](../tech_specs/api_file_mgmt_compression.md#17-packagecompressfile-parameters),
  [api_file_mgmt_compression.md#19-packagecompressfile-behavior](../tech_specs/api_file_mgmt_compression.md#19-packagecompressfile-behavior)
- REQ-FILEMGMT-036: DecompressFile decompresses existing file in package.
  [api_file_mgmt_compression.md#24-fileentry-decompress-behavior](../tech_specs/api_file_mgmt_compression.md#24-fileentry-decompress-behavior),
  [api_file_mgmt_compression.md#27-packagedecompressfile-parameters](../tech_specs/api_file_mgmt_compression.md#27-packagedecompressfile-parameters),
  [api_file_mgmt_compression.md#29-packagedecompressfile-behavior](../tech_specs/api_file_mgmt_compression.md#29-packagedecompressfile-behavior)
- REQ-FILEMGMT-079: File compression operations provide per-file compression and decompression capabilities [type: architectural]. [api_file_mgmt_compression.md#1-fileentrycompress-method](../tech_specs/api_file_mgmt_compression.md#1-fileentrycompress-method) (Exception: also [api_file_mgmt_file_entry.md#84-fileentry-compression-purpose](../tech_specs/api_file_mgmt_file_entry.md#84-fileentry-compression-purpose) for coverage.)
- REQ-FILEMGMT-179: File compression operations support per-file compression. [api_file_mgmt_compression.md#11-fileentrycompress-method-signature](../tech_specs/api_file_mgmt_compression.md#11-fileentrycompress-method-signature)
- REQ-FILEMGMT-180: CompressFile parameters configure compression behavior. [api_file_mgmt_compression.md#12-fileentrycompress-parameters](../tech_specs/api_file_mgmt_compression.md#12-fileentrycompress-parameters) (Exception: also [api_file_mgmt_file_entry.md#85-compress-parameters](../tech_specs/api_file_mgmt_file_entry.md#85-compress-parameters) for coverage.)
- REQ-FILEMGMT-190: DecompressFile parameters define decompression interface.
  [api_file_mgmt_compression.md#22-fileentrydecompress-parameters](../tech_specs/api_file_mgmt_compression.md#22-fileentrydecompress-parameters),
  [api_file_mgmt_compression.md#25-fileentrydecompress-error-conditions](../tech_specs/api_file_mgmt_compression.md#25-fileentrydecompress-error-conditions),
  [api_file_mgmt_compression.md#210-package-decompressfile-error-conditions](../tech_specs/api_file_mgmt_compression.md#210-package-decompressfile-error-conditions)
- REQ-FILEMGMT-191: GetFileCompressionInfo parameters define compression info interface.
  [api_file_mgmt_compression.md#32-fileentry-getcompressioninfo-parameters](../tech_specs/api_file_mgmt_compression.md#32-fileentry-getcompressioninfo-parameters),
  [api_file_mgmt_compression.md#33-fileentrygetcompressioninfo-returns](../tech_specs/api_file_mgmt_compression.md#33-fileentrygetcompressioninfo-returns),
  [api_file_mgmt_compression.md#37-packagegetfilecompressioninfo-returns](../tech_specs/api_file_mgmt_compression.md#37-packagegetfilecompressioninfo-returns)
- REQ-FILEMGMT-192: Compression operation behavior defines compression process. [api_file_mgmt_compression.md#14-fileentrycompress-behavior](../tech_specs/api_file_mgmt_compression.md#14-fileentrycompress-behavior)
- REQ-FILEMGMT-193: Compression operation error conditions define compression errors.
  [api_file_mgmt_compression.md#15-fileentrycompress-error-conditions](../tech_specs/api_file_mgmt_compression.md#15-fileentrycompress-error-conditions),
  [api_file_mgmt_compression.md#110-package-compressfile-error-conditions](../tech_specs/api_file_mgmt_compression.md#110-package-compressfile-error-conditions),
  [api_file_mgmt_file_entry.md#88-fileentry-compression-error-conditions](../tech_specs/api_file_mgmt_file_entry.md#88-fileentry-compression-error-conditions)
- REQ-FILEMGMT-194: Compression operation usage notes document compression behavior [type: documentation-only]. [api_file_mgmt_compression.md#111-compressfile-usage-notes](../tech_specs/api_file_mgmt_compression.md#111-compressfile-usage-notes) (Exception: also [api_file_mgmt_file_entry.md#89-fileentry-compression-usage-notes](../tech_specs/api_file_mgmt_file_entry.md#89-fileentry-compression-usage-notes) for coverage.)

## File Encryption Operations

- REQ-FILEMGMT-004: Encryption settings use ML-KEM key management rules [type: constraint]. [api_file_mgmt_file_entry.md#9-fileentry-encryption](../tech_specs/api_file_mgmt_file_entry.md#9-fileentry-encryption)
- REQ-FILEMGMT-019: File encryption operations support per-file encryption. [api_file_mgmt_file_entry.md#9-fileentry-encryption](../tech_specs/api_file_mgmt_file_entry.md#9-fileentry-encryption)
- REQ-FILEMGMT-024: GetFileEncryptionType returns encryption type for specific file. [api_file_mgmt_file_entry.md#78-getencryptiontype-returns](../tech_specs/api_file_mgmt_file_entry.md#78-getencryptiontype-returns)
- REQ-FILEMGMT-025: GetEncryptedFiles returns list of all encrypted files. [api_file_mgmt_queries.md#43-listencryptedfiles](../tech_specs/api_file_mgmt_queries.md#43-listencryptedfiles)
- REQ-FILEMGMT-034: GetFileEncryptionInfo gets encryption information for file. [api_file_mgmt_file_entry.md#9-fileentry-encryption](../tech_specs/api_file_mgmt_file_entry.md#9-fileentry-encryption)

## File Deduplication

- REQ-FILEMGMT-020: File deduplication detects and prevents duplicate content. [api_deduplication.md#31-file-deduplication](../tech_specs/api_deduplication.md#31-file-deduplication)
- REQ-FILEMGMT-195: Deduplication operations provide duplicate detection and management. [api_deduplication.md#31-file-deduplication](../tech_specs/api_deduplication.md#31-file-deduplication)
- REQ-FILEMGMT-196: Deduplication purpose defines duplicate detection functionality. [api_deduplication.md#314-file-deduplication-purpose](../tech_specs/api_deduplication.md#314-file-deduplication-purpose)
- REQ-FILEMGMT-197: FindExistingEntryByCRC32 parameters define CRC32 lookup interface. [api_deduplication.md#315-findexistingentrybycrc32-parameters](../tech_specs/api_deduplication.md#315-findexistingentrybycrc32-parameters)
- REQ-FILEMGMT-198: FindExistingEntryMultiLayer parameters define multi-layer lookup interface. [api_deduplication.md#316-findexistingentrymultilayer-parameters](../tech_specs/api_deduplication.md#316-findexistingentrymultilayer-parameters)
- REQ-FILEMGMT-199: AddPathToExistingEntry parameters define path addition interface. [api_deduplication.md#317-addpathtoexistingentry-parameters](../tech_specs/api_deduplication.md#317-addpathtoexistingentry-parameters)
- REQ-FILEMGMT-253: Deduplication behavior defines duplicate detection process. [api_deduplication.md#318-file-deduplication-behavior](../tech_specs/api_deduplication.md#318-file-deduplication-behavior)
- REQ-FILEMGMT-254: Deduplication usage notes document duplicate detection behavior [type: documentation-only]. [api_deduplication.md#319-file-deduplication-usage-notes](../tech_specs/api_deduplication.md#319-file-deduplication-usage-notes)

## Tag Management

- REQ-FILEMGMT-006: Tag management supports per-file metadata tags. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-295: Tag placement guidance defines when to set tags on FileEntry versus PathMetadataEntry [type: documentation-only] (documentation-only: guidance - DO NOT CREATE FEATURE FILE). [api_file_mgmt_file_entry.md#31-tag-placement-guidance](../tech_specs/api_file_mgmt_file_entry.md#31-tag-placement-guidance)
- REQ-FILEMGMT-296: Updating individual tags demonstrates tag update operations [type: documentation-only] (documentation-only: examples - DO NOT CREATE FEATURE FILE). [api_file_mgmt_file_entry.md#337-updating-individual-tags](../tech_specs/api_file_mgmt_file_entry.md#337-updating-individual-tags)
- REQ-FILEMGMT-297: Basic data operations define LoadData, UnloadData, GetData, and SetData methods [type: architectural]. [api_file_mgmt_file_entry.md#41-basic-data-operations](../tech_specs/api_file_mgmt_file_entry.md#41-basic-data-operations)
- REQ-FILEMGMT-298: FileEntry LoadData method loads file content into memory. [api_file_mgmt_file_entry.md#411-fileentry-loaddata-method](../tech_specs/api_file_mgmt_file_entry.md#411-fileentry-loaddata-method)
- REQ-FILEMGMT-234: Tag operations use standalone functions due to Go generic method limitations [type: architectural]. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-235: GetFileEntryTags returns all tags as typed tags for a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-236: GetFileEntryTagsByType returns all tags of a specific type for a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-237: AddFileEntryTags adds multiple new tags with type safety to a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-238: SetFileEntryTags updates existing tags from a slice of typed tags for a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-239: GetFileEntryTag retrieves a type-safe tag by key from a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-240: AddFileEntryTag adds a new tag with type safety to a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-241: SetFileEntryTag updates an existing tag with type safety for a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-242: RemoveFileEntryTag removes a tag by key from a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-243: HasFileEntryTag checks if the file entry has any tags. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-244: HasFileEntryTags checks if the file entry has any tags. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- REQ-FILEMGMT-245: SyncFileEntryTags synchronizes tags with the underlying storage for a FileEntry. [api_file_mgmt_file_entry.md#3-tag-management](../tech_specs/api_file_mgmt_file_entry.md#3-tag-management)
- ~~REQ-FILEMGMT-246: GetFileEntryEffectiveTags returns all tags including inherited tags from path metadata for a FileEntry~~ [type: obsolete] (removed - functionality moved to PathMetadataEntry.GetEffectiveTags - see api_metadata.md#812-path-management-methods).
- ~~REQ-FILEMGMT-247: GetFileEntryInheritedTags returns only the inherited tags from path metadata for a FileEntry~~ [type: obsolete] (removed - functionality moved to PathMetadataEntry.GetInheritedTags - see api_metadata.md#812-path-management-methods).
- REQ-FILEMGMT-248: Tag type provides type-safe tag operations with Tag[T] structure. [api_file_mgmt_file_entry.md#32-tag-type](../tech_specs/api_file_mgmt_file_entry.md#32-tag-type)
- REQ-FILEMGMT-249: Tag operations usage examples demonstrate tag manipulation patterns [type: documentation-only]. [api_file_mgmt_file_entry.md#33-tag-operations-usage](../tech_specs/api_file_mgmt_file_entry.md#33-tag-operations-usage)

## Error Handling

- REQ-FILEMGMT-110: Error handling provides structured error system [type: architectural]. [api_file_mgmt_errors.md#1-file-management-error-handling](../tech_specs/api_file_mgmt_errors.md#1-file-management-error-handling)
- REQ-FILEMGMT-111: Structured error system defines error types and structures. [api_file_mgmt_errors.md#1-file-management-error-handling](../tech_specs/api_file_mgmt_errors.md#1-file-management-error-handling)
- REQ-FILEMGMT-112: Common error types define standard error classifications. [api_file_mgmt_errors.md#11-error-type-categories](../tech_specs/api_file_mgmt_errors.md#11-error-type-categories)
- REQ-FILEMGMT-113: Sentinel errors provide legacy error support. [api_file_mgmt_errors.md#11-error-type-categories](../tech_specs/api_file_mgmt_errors.md#11-error-type-categories)
- REQ-FILEMGMT-114: Error type mapping maps legacy to structured errors. [api_file_mgmt_errors.md#11-error-type-categories](../tech_specs/api_file_mgmt_errors.md#11-error-type-categories)
- REQ-FILEMGMT-115: Creating file management errors supports structured error creation. [api_file_mgmt_errors.md#121-creating-file-management-errors](../tech_specs/api_file_mgmt_errors.md#121-creating-file-management-errors)
- REQ-FILEMGMT-116: Structured error examples demonstrate error handling patterns. [api_file_mgmt_errors.md#12-structured-error-examples](../tech_specs/api_file_mgmt_errors.md#12-structured-error-examples)
- REQ-FILEMGMT-117: Error handling best practices define recommended patterns [type: documentation-only]. [api_file_mgmt_errors.md#1-file-management-error-handling](../tech_specs/api_file_mgmt_errors.md#1-file-management-error-handling)
- REQ-FILEMGMT-118: Always check for errors defines error checking requirement. [api_file_mgmt_errors.md#1-file-management-error-handling](../tech_specs/api_file_mgmt_errors.md#1-file-management-error-handling)
- REQ-FILEMGMT-082: FileErrorContext structure provides typed error context for file operation errors [type: architectural]. [api_core.md#104-packageerror-structure](../tech_specs/api_core.md#104-packageerror-structure)
- REQ-FILEMGMT-119: Use structured errors for better debugging defines error reporting. [api_file_mgmt_errors.md#12-structured-error-examples](../tech_specs/api_file_mgmt_errors.md#12-structured-error-examples)
- REQ-FILEMGMT-120: Handle specific error types with structured errors defines error handling. [api_file_mgmt_errors.md#12-structured-error-examples](../tech_specs/api_file_mgmt_errors.md#12-structured-error-examples)
- REQ-FILEMGMT-121: Use context for cancellation with structured errors defines cancellation handling. [api_file_mgmt_errors.md#1-file-management-error-handling](../tech_specs/api_file_mgmt_errors.md#1-file-management-error-handling)
- REQ-FILEMGMT-122: Handle encryption errors with context defines encryption error handling. [api_file_mgmt_errors.md#12-structured-error-examples](../tech_specs/api_file_mgmt_errors.md#12-structured-error-examples)

## Generic FileEntry Operations

- REQ-FILEMGMT-123: Generic FileEntry operations define reusable operation patterns [type: architectural]. [api_file_mgmt_file_entry.md#4-data-management](../tech_specs/api_file_mgmt_file_entry.md#4-data-management)

## Best Practices

- REQ-FILEMGMT-124: Best practices document recommended usage patterns [type: documentation-only]. [api_file_mgmt_best_practices.md#0-overview](../tech_specs/api_file_mgmt_best_practices.md#0-overview)
- REQ-FILEMGMT-125: File path management best practices define path handling patterns [type: documentation-only]. [api_file_mgmt_best_practices.md#12-path-normalization](../tech_specs/api_file_mgmt_best_practices.md#12-path-normalization) (Exception: also [api_file_mgmt_best_practices.md#13-path-extraction](../tech_specs/api_file_mgmt_best_practices.md#13-path-extraction) for coverage.)
- REQ-FILEMGMT-126: Use consistent path formats defines path format requirement. [api_file_mgmt_best_practices.md#11-use-consistent-path-formats](../tech_specs/api_file_mgmt_best_practices.md#11-use-consistent-path-formats)
- REQ-FILEMGMT-127: Validate paths before use defines path validation requirement [type: constraint]. [api_file_mgmt_best_practices.md#14-validate-paths-before-use](../tech_specs/api_file_mgmt_best_practices.md#14-validate-paths-before-use)
- REQ-FILEMGMT-128: Encryption management best practices define encryption patterns [type: documentation-only]. [api_file_mgmt_best_practices.md#22-secure-key-management](../tech_specs/api_file_mgmt_best_practices.md#22-secure-key-management)
- REQ-FILEMGMT-129: Choose appropriate encryption types defines encryption selection [type: documentation-only]. [api_file_mgmt_best_practices.md#22-secure-key-management](../tech_specs/api_file_mgmt_best_practices.md#22-secure-key-management)
- REQ-FILEMGMT-130: Secure key management defines key handling requirements [type: documentation-only]. [api_file_mgmt_best_practices.md#22-secure-key-management](../tech_specs/api_file_mgmt_best_practices.md#22-secure-key-management)
- REQ-FILEMGMT-131: Performance considerations define performance optimization patterns [type: non-functional]. [api_file_mgmt_best_practices.md#3-performance-considerations](../tech_specs/api_file_mgmt_best_practices.md#3-performance-considerations) (Exception: also [api_file_mgmt_best_practices.md#34-symlink-conversion-performance](../tech_specs/api_file_mgmt_best_practices.md#34-symlink-conversion-performance) for coverage.)
- REQ-FILEMGMT-132: Use patterns for bulk operations defines bulk operation patterns [type: documentation-only]. [api_file_mgmt_best_practices.md#31-use-patterns-for-bulk-operations](../tech_specs/api_file_mgmt_best_practices.md#31-use-patterns-for-bulk-operations)
- REQ-FILEMGMT-133: Handle large files with streaming defines streaming patterns [type: documentation-only]. [api_file_mgmt_best_practices.md#32-handle-large-files-with-streaming](../tech_specs/api_file_mgmt_best_practices.md#32-handle-large-files-with-streaming)
- REQ-FILEMGMT-134: Use appropriate context timeouts defines timeout configuration [type: documentation-only]. [api_file_mgmt_best_practices.md#33-use-appropriate-context-timeouts](../tech_specs/api_file_mgmt_best_practices.md#33-use-appropriate-context-timeouts)

## Context Integration

- REQ-FILEMGMT-037: File management methods performing I/O operations accept context.Context and respect cancellation/timeout [type: constraint]. [api_core.md#02-context-integration](../tech_specs/api_core.md#02-context-integration)
- REQ-FILEMGMT-041: Context cancellation during file operations returns structured context error. [api_core.md#02-context-integration](../tech_specs/api_core.md#02-context-integration)

## Validation

- REQ-FILEMGMT-038: File path parameters validated (non-empty, no whitespace-only, normalized) [type: constraint]. [file_validation.md#11-file-name-validation](../tech_specs/file_validation.md#11-file-name-validation)
- REQ-FILEMGMT-039: File data parameters validated (nil rejected, empty allowed) [type: constraint]. [file_validation.md#12-file-content-validation](../tech_specs/file_validation.md#12-file-content-validation)
- REQ-FILEMGMT-040: Encryption/compression type parameters validated against supported types [type: constraint]. [api_file_mgmt_file_entry.md#9-fileentry-encryption](../tech_specs/api_file_mgmt_file_entry.md#9-fileentry-encryption)
